<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Predicting Returns with text data</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="">

    <link rel="stylesheet" id="theme_link" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.6.0/materia/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
    <link type="text/css" rel="stylesheet" href="/ConferenceCalls/content/navbar-fixed-left.css" />
    <link type="text/css" rel="stylesheet" href="/ConferenceCalls/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="/ConferenceCalls/content/fsdocs-custom.css" />
    <script type="text/javascript" src="/ConferenceCalls/content/fsdocs-tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-light bg-secondary fixed-left" id="fsdocs-nav">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse navbar-nav-scroll" id="navbarsExampleDefault">
            <a href="/ConferenceCalls/"><img id="fsdocs-logo" src="/ConferenceCalls/img/logo.png" /></a>
            <!-- BEGIN SEARCH BOX: this adds support for the search box -->
            <div id="header">
                <div class="searchbox" id="fsdocs-searchbox">
                    <label for="search-by">
                        <i class="fas fa-search"></i>
                    </label>
                    <input data-search-input="" id="search-by" type="search" placeholder="Search..." />
                    <span data-search-clear="">
                        <i class="fas fa-times"></i>
                    </span>
                </div>
            </div>

            <!-- END SEARCH BOX: this adds support for the search box -->
            <ul class="navbar-nav">
                <li class="nav-header">Links</li>
                <li class="nav-item" id="fsdocs-license-link"><a class="nav-link" href="{{fsdocs-license-link}}">License</a></li>
                <li class="nav-item" id="fsdocs-release-notes-link"><a class="nav-link" href="{{fsdocs-release-notes-link}}">Release Notes</a></li>
                <li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="{{fsdocs-repository-link}}">Source Repository</a></li>
                <li class="nav-header">
  Scripts
</li>             
<li class="nav-item">
  <a class="nav-link" href="/ConferenceCalls/TranscriptParsing.html">
    Parsing Motley Fool
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/ConferenceCalls/EarningsAnnouncementReturn.html">
    Earnings Announcement Return (EAR)
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/ConferenceCalls/EarningsClassification.html">
    Classifying Earnings Calls with Naive Bayes
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/ConferenceCalls/TopicModelingDemo.html">
    Predicting Returns with text data
  </a>
</li>             
<li class="nav-header">
  Other
</li>             
<li class="nav-item">
  <a class="nav-link" href="/ConferenceCalls/Types.html">
    Types
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/ConferenceCalls/BugCheck.html">
    Bug test

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/ConferenceCalls/TextPreprocessing.html">
    TextPreprocessing
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/ConferenceCalls/optDemos.html">
    optDemos
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/ConferenceCalls/Common.html">
    Common
  </a>
</li>
                {{fsdocs-list-of-namespaces}}
            </ul>
        </div>
    </nav>
    <div class="container">
        <div class="masthead">
            <h3 class="muted"><a href="/ConferenceCalls/">ConferenceCalls</a></h3>
        </div>
        <hr />
        <div class="container" id="fsdocs-content">
            
<p><a href="/ConferenceCalls//TopicModelingDemo.fsx"><img src="img/badge-script.svg" alt="Script" /></a>&emsp;
<a href="/ConferenceCalls//TopicModelingDemo.ipynb"><img src="img/badge-notebook.svg" alt="Notebook" /></a></p>
<h2><a name="Import-packages-and-load-scripts" class="anchor" href="#Import-packages-and-load-scripts">Import packages and load scripts</a></h2>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;nuget: Plotly.NET, 2.0.0-preview.6&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;nuget: Newtonsoft.Json&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;nuget: MathNet.Numerics.FSharp, 4.15.0&quot;</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">System</span>

<span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="rt">Environment</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">CurrentDirectory</span> <span class="k">&lt;-</span> <span class="k">__SOURCE_DIRECTORY__</span>
<span class="id">fsi</span><span class="pn">.</span><span class="id">AddPrinter</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="id">DateTime</span><span class="pn">&gt;</span><span class="pn">(</span><span class="k">fun</span> <span class="id">dt</span> <span class="k">-&gt;</span> <span class="id">dt</span><span class="pn">.</span><span class="id">ToString</span><span class="pn">(</span><span class="s">&quot;s&quot;</span><span class="pn">)</span><span class="pn">)</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="id">Newtonsoft</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="id">Json</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="id">Plotly</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="id">NET</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs9', 9)" onmouseover="showTip(event, 'fs9', 9)" class="id">MathNet</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 10)" onmouseover="showTip(event, 'fs10', 10)" class="id">Numerics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 11)" onmouseover="showTip(event, 'fs11', 11)" class="id">LinearAlgebra</span>
</code></pre>
<h2><a name="Read-transcripts-from-json-file" class="anchor" href="#Read-transcripts-from-json-file">Read transcripts from json file</a></h2>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs12', 12)" onmouseover="showTip(event, 'fs12', 12)" class="rt">Label</span> <span class="o">=</span> 
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs13', 13)" onmouseover="showTip(event, 'fs13', 13)" class="uc">Positive</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs14', 14)" onmouseover="showTip(event, 'fs14', 14)" class="uc">Negative</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs15', 15)" onmouseover="showTip(event, 'fs15', 15)" class="uc">Neutral</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs16', 16)" onmouseover="showTip(event, 'fs16', 16)" class="rt">LabeledTranscript</span> <span class="o">=</span> 
    <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs17', 17)" onmouseover="showTip(event, 'fs17', 17)" class="prop">TickerExchange</span><span class="pn">:</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs18', 18)" onmouseover="showTip(event, 'fs18', 18)" class="rt">string</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs18', 19)" onmouseover="showTip(event, 'fs18', 19)" class="rt">string</span><span class="pn">)</span> 
      <span onmouseout="hideTip(event, 'fs19', 20)" onmouseover="showTip(event, 'fs19', 20)" class="prop">EarningsCall</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs18', 21)" onmouseover="showTip(event, 'fs18', 21)" class="rt">string</span>
      <span onmouseout="hideTip(event, 'fs20', 22)" onmouseover="showTip(event, 'fs20', 22)" class="prop">CumulativeReturn</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs21', 23)" onmouseover="showTip(event, 'fs21', 23)" class="vt">float</span> 
      <span onmouseout="hideTip(event, 'fs22', 24)" onmouseover="showTip(event, 'fs22', 24)" class="prop">Label</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs12', 25)" onmouseover="showTip(event, 'fs12', 25)" class="rt">Label</span> <span class="pn">}</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs23', 26)" onmouseover="showTip(event, 'fs23', 26)" class="fn">readJson</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs24', 27)" onmouseover="showTip(event, 'fs24', 27)" class="fn">jsonFile</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs18', 28)" onmouseover="showTip(event, 'fs18', 28)" class="rt">string</span><span class="pn">)</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs25', 29)" onmouseover="showTip(event, 'fs25', 29)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 30)" onmouseover="showTip(event, 'fs26', 30)" class="rt">File</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 31)" onmouseover="showTip(event, 'fs27', 31)" class="id">ReadAllText</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs24', 32)" onmouseover="showTip(event, 'fs24', 32)" class="fn">jsonFile</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs28', 33)" onmouseover="showTip(event, 'fs28', 33)" class="fn">json</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs29', 34)" onmouseover="showTip(event, 'fs29', 34)" class="rt">JsonConvert</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 35)" onmouseover="showTip(event, 'fs30', 35)" class="id">DeserializeObject</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs31', 36)" onmouseover="showTip(event, 'fs31', 36)" class="rt">array</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs16', 37)" onmouseover="showTip(event, 'fs16', 37)" class="rt">LabeledTranscript</span><span class="pn">&gt;</span><span class="pn">&gt;</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs28', 38)" onmouseover="showTip(event, 'fs28', 38)" class="fn">json</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs32', 39)" onmouseover="showTip(event, 'fs32', 39)" class="id">train</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs33', 40)" onmouseover="showTip(event, 'fs33', 40)" class="id">test</span> <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs34', 41)" onmouseover="showTip(event, 'fs34', 41)" class="fn">rnd</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs1', 42)" onmouseover="showTip(event, 'fs1', 42)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 43)" onmouseover="showTip(event, 'fs35', 43)" class="id">Random</span><span class="pn">(</span><span class="n">42</span><span class="pn">)</span>
    <span onmouseout="hideTip(event, 'fs23', 44)" onmouseover="showTip(event, 'fs23', 44)" class="fn">readJson</span> <span class="pn">(</span><span class="s">&quot;data-cache/LabeledTranscriptsFullSample.json&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 45)" onmouseover="showTip(event, 'fs36', 45)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs37', 46)" onmouseover="showTip(event, 'fs37', 46)" class="id">sortBy</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs34', 47)" onmouseover="showTip(event, 'fs34', 47)" class="fn">rnd</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs38', 48)" onmouseover="showTip(event, 'fs38', 48)" class="id">Next</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 49)" onmouseover="showTip(event, 'fs36', 49)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 50)" onmouseover="showTip(event, 'fs39', 50)" class="id">toArray</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs40', 51)" onmouseover="showTip(event, 'fs40', 51)" class="fn">xs</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 52)" onmouseover="showTip(event, 'fs41', 52)" class="fn">cutoff</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 53)" onmouseover="showTip(event, 'fs21', 53)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs40', 54)" onmouseover="showTip(event, 'fs40', 54)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 55)" onmouseover="showTip(event, 'fs42', 55)" class="id">Length</span> <span class="o">*</span> <span class="n">0.8</span>
        <span onmouseout="hideTip(event, 'fs40', 56)" onmouseover="showTip(event, 'fs40', 56)" class="fn">xs</span><span class="id">.</span><span class="pn">[</span><span class="o">..</span> <span onmouseout="hideTip(event, 'fs43', 57)" onmouseover="showTip(event, 'fs43', 57)" class="fn">int</span> <span onmouseout="hideTip(event, 'fs41', 58)" onmouseover="showTip(event, 'fs41', 58)" class="fn">cutoff</span><span class="pn">]</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs40', 59)" onmouseover="showTip(event, 'fs40', 59)" class="fn">xs</span><span class="id">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs43', 60)" onmouseover="showTip(event, 'fs43', 60)" class="fn">int</span> <span onmouseout="hideTip(event, 'fs41', 61)" onmouseover="showTip(event, 'fs41', 61)" class="fn">cutoff</span> <span class="o">+</span> <span class="n">1</span> <span class="o">..</span><span class="pn">]</span>
</code></pre>
<h2><a name="Text-Preprocessing" class="anchor" href="#Text-Preprocessing">Text Preprocessing</a></h2>
<p>Text data, unstructured data ...</p>
<h4><a name="1-Normalization" class="anchor" href="#1-Normalization">1) Normalization</a></h4>
<ul>
<li>Change all words in each article to lower case letters</li>
<li>Expand contractions such as "haven't" to "have not"</li>
<li>Delete numbers, punctuation, special symbols, and non-English words</li>
</ul>
<h4><a name="2-Lemmatiazation-Stemming" class="anchor" href="#2-Lemmatiazation-Stemming">2) Lemmatiazation/Stemming</a></h4>
<ul>
<li>Analyze words as a single root, e.g, "dissapointment" to "dissapoint"</li>
<li>Porters algorithm</li>
</ul>
<h4><a name="3-Tokenization" class="anchor" href="#3-Tokenization">3) Tokenization</a></h4>
<p>Split each article into a list of words or phrases or nGrams</p>
<p><strong>Original</strong>: "The five boxing wizards jump quickly"</p>
<p><strong>1Gram</strong>:</p>
<ul>
<li>["The", "five", "boxing", "wizards", "jump", "quickly"]</li>
</ul>
<p><strong>2Grams</strong>:</p>
<ul>
<li>["The five", "five boxing", "boxing wizards", "wizards jump", "jump quickly"]</li>
</ul>
<h4><a name="4-Stop-words-removal" class="anchor" href="#4-Stop-words-removal">4) Stop words removal</a></h4>
<ul>
<li>Removing stop words such as "and", "the", "is", and "are"</li>
<li>List of stopwords taken from item 70 on <a href="http://www.nltk.org/nltk_data/.">http://www.nltk.org/nltk_data/.</a></li>
</ul>
<h4><a name="5-Bag-of-words" class="anchor" href="#5-Bag-of-words">5) Bag of words</a></h4>
<ul>
<li>Transform each block of text to a vector of word counts</li>
</ul>
<h4><a name="Train-and-test-sets" class="anchor" href="#Train-and-test-sets">Train and test sets</a></h4>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#load</span> <span class="s">&quot;TextPreprocessing.fsx&quot;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs44', 62)" onmouseover="showTip(event, 'fs44', 62)" class="id">Preprocessing</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs45', 63)" onmouseover="showTip(event, 'fs45', 63)" class="m">Normalization</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs44', 64)" onmouseover="showTip(event, 'fs44', 64)" class="id">Preprocessing</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs46', 65)" onmouseover="showTip(event, 'fs46', 65)" class="m">Tokenization</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs44', 66)" onmouseover="showTip(event, 'fs44', 66)" class="id">Preprocessing</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs47', 67)" onmouseover="showTip(event, 'fs47', 67)" class="m">NltkData</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs48', 68)" onmouseover="showTip(event, 'fs48', 68)" class="rt">CallId</span> <span class="o">=</span> 
    <span class="pn">{</span><span onmouseout="hideTip(event, 'fs49', 69)" onmouseover="showTip(event, 'fs49', 69)" class="prop">Ticker</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs18', 70)" onmouseover="showTip(event, 'fs18', 70)" class="rt">string</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs50', 71)" onmouseover="showTip(event, 'fs50', 71)" class="prop">Exchange</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs18', 72)" onmouseover="showTip(event, 'fs18', 72)" class="rt">string</span><span class="pn">}</span> 

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs51', 73)" onmouseover="showTip(event, 'fs51', 73)" class="rt">WordCount</span> <span class="o">=</span> 
    <span class="pn">{</span><span onmouseout="hideTip(event, 'fs52', 74)" onmouseover="showTip(event, 'fs52', 74)" class="prop">Word</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs18', 75)" onmouseover="showTip(event, 'fs18', 75)" class="rt">string</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs53', 76)" onmouseover="showTip(event, 'fs53', 76)" class="prop">Count</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs43', 77)" onmouseover="showTip(event, 'fs43', 77)" class="vt">int</span><span class="pn">}</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs54', 78)" onmouseover="showTip(event, 'fs54', 78)" class="rt">Sentiment</span> <span class="o">=</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs55', 79)" onmouseover="showTip(event, 'fs55', 79)" class="uc">Positive</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs56', 80)" onmouseover="showTip(event, 'fs56', 80)" class="uc">Negative</span>

<span class="k">type</span> <span class="rt">Call</span> <span class="o">=</span> 
    <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs57', 81)" onmouseover="showTip(event, 'fs57', 81)" class="prop">CallId</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs57', 82)" onmouseover="showTip(event, 'fs57', 82)" class="rt">CallId</span>
      <span onmouseout="hideTip(event, 'fs58', 83)" onmouseover="showTip(event, 'fs58', 83)" class="prop">WordCount</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs58', 84)" onmouseover="showTip(event, 'fs58', 84)" class="rt">WordCount</span> <span class="pn">[</span><span class="pn">]</span>
      <span onmouseout="hideTip(event, 'fs59', 85)" onmouseover="showTip(event, 'fs59', 85)" class="prop">Signal</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs21', 86)" onmouseover="showTip(event, 'fs21', 86)" class="vt">float</span> <span class="pn">}</span> <span class="k">with</span>
    
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs60', 87)" onmouseover="showTip(event, 'fs60', 87)" class="fn">this</span><span class="pn">.</span><span class="prop">Flag</span> <span class="o">=</span>
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs60', 88)" onmouseover="showTip(event, 'fs60', 88)" class="fn">this</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 89)" onmouseover="showTip(event, 'fs59', 89)" class="id">Signal</span> <span class="o">&gt;</span> <span class="n">0.</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs55', 90)" onmouseover="showTip(event, 'fs55', 90)" class="uc">Positive</span>
        <span class="k">else</span> <span onmouseout="hideTip(event, 'fs56', 91)" onmouseover="showTip(event, 'fs56', 91)" class="uc">Negative</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs61', 92)" onmouseover="showTip(event, 'fs61', 92)" class="fn">preprocessText</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs62', 93)" onmouseover="showTip(event, 'fs62', 93)" class="fn">text</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs18', 94)" onmouseover="showTip(event, 'fs18', 94)" class="rt">string</span><span class="pn">)</span> <span class="o">=</span> 
    <span class="c">// Normalization</span>
    <span onmouseout="hideTip(event, 'fs62', 95)" onmouseover="showTip(event, 'fs62', 95)" class="fn">text</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs63', 96)" onmouseover="showTip(event, 'fs63', 96)" class="fn">getOnlyWords</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs64', 97)" onmouseover="showTip(event, 'fs64', 97)" class="fn">expandContractions</span>
    <span class="c">// Tokenization</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs65', 98)" onmouseover="showTip(event, 'fs65', 98)" class="fn">nGrams</span> <span class="n">1</span>
    <span class="c">// Stop words removal</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 99)" onmouseover="showTip(event, 'fs36', 99)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs66', 100)" onmouseover="showTip(event, 'fs66', 100)" class="id">choose</span> <span onmouseout="hideTip(event, 'fs67', 101)" onmouseover="showTip(event, 'fs67', 101)" class="fn">removeStopWords</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs68', 102)" onmouseover="showTip(event, 'fs68', 102)" class="fn">generateCall</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs69', 103)" onmouseover="showTip(event, 'fs69', 103)" class="fn">xs</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs16', 104)" onmouseover="showTip(event, 'fs16', 104)" class="rt">LabeledTranscript</span><span class="pn">)</span> <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs70', 105)" onmouseover="showTip(event, 'fs70', 105)" class="fn">callId</span> <span class="o">=</span> <span class="pn">{</span><span class="prop">Ticker</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs71', 106)" onmouseover="showTip(event, 'fs71', 106)" class="fn">fst</span> <span onmouseout="hideTip(event, 'fs69', 107)" onmouseover="showTip(event, 'fs69', 107)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 108)" onmouseover="showTip(event, 'fs17', 108)" class="id">TickerExchange</span> <span class="pn">;</span> <span class="prop">Exchange</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs72', 109)" onmouseover="showTip(event, 'fs72', 109)" class="fn">snd</span> <span onmouseout="hideTip(event, 'fs69', 110)" onmouseover="showTip(event, 'fs69', 110)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 111)" onmouseover="showTip(event, 'fs17', 111)" class="id">TickerExchange</span><span class="pn">}</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs73', 112)" onmouseover="showTip(event, 'fs73', 112)" class="fn">wordCount</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs69', 113)" onmouseover="showTip(event, 'fs69', 113)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 114)" onmouseover="showTip(event, 'fs19', 114)" class="id">EarningsCall</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs61', 115)" onmouseover="showTip(event, 'fs61', 115)" class="fn">preprocessText</span>
        <span class="c">// Bag of words</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 116)" onmouseover="showTip(event, 'fs36', 116)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs74', 117)" onmouseover="showTip(event, 'fs74', 117)" class="id">countBy</span> <span onmouseout="hideTip(event, 'fs75', 118)" onmouseover="showTip(event, 'fs75', 118)" class="fn">id</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 119)" onmouseover="showTip(event, 'fs36', 119)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs76', 120)" onmouseover="showTip(event, 'fs76', 120)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs77', 121)" onmouseover="showTip(event, 'fs77', 121)" class="fn">word</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs78', 122)" onmouseover="showTip(event, 'fs78', 122)" class="fn">count</span><span class="pn">)</span> <span class="k">-&gt;</span> <span class="pn">{</span><span class="prop">Word</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs77', 123)" onmouseover="showTip(event, 'fs77', 123)" class="fn">word</span><span class="pn">;</span> <span class="prop">Count</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs78', 124)" onmouseover="showTip(event, 'fs78', 124)" class="fn">count</span><span class="pn">}</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 125)" onmouseover="showTip(event, 'fs36', 125)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 126)" onmouseover="showTip(event, 'fs39', 126)" class="id">toArray</span>

    <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs48', 127)" onmouseover="showTip(event, 'fs48', 127)" class="prop">CallId</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs70', 128)" onmouseover="showTip(event, 'fs70', 128)" class="fn">callId</span>
      <span onmouseout="hideTip(event, 'fs51', 129)" onmouseover="showTip(event, 'fs51', 129)" class="prop">WordCount</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs73', 130)" onmouseover="showTip(event, 'fs73', 130)" class="fn">wordCount</span>
      <span class="prop">Signal</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs69', 131)" onmouseover="showTip(event, 'fs69', 131)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs20', 132)" onmouseover="showTip(event, 'fs20', 132)" class="id">CumulativeReturn</span> <span class="pn">}</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs79', 133)" onmouseover="showTip(event, 'fs79', 133)" class="id">trainCalls</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs80', 134)" onmouseover="showTip(event, 'fs80', 134)" class="id">testCalls</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs32', 135)" onmouseover="showTip(event, 'fs32', 135)" class="id">train</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 136)" onmouseover="showTip(event, 'fs81', 136)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs82', 137)" onmouseover="showTip(event, 'fs82', 137)" class="m">Parallel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs83', 138)" onmouseover="showTip(event, 'fs83', 138)" class="id">map</span> <span onmouseout="hideTip(event, 'fs68', 139)" onmouseover="showTip(event, 'fs68', 139)" class="fn">generateCall</span><span class="pn">,</span>

    <span onmouseout="hideTip(event, 'fs33', 140)" onmouseover="showTip(event, 'fs33', 140)" class="id">test</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 141)" onmouseover="showTip(event, 'fs81', 141)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs82', 142)" onmouseover="showTip(event, 'fs82', 142)" class="m">Parallel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs83', 143)" onmouseover="showTip(event, 'fs83', 143)" class="id">map</span> <span onmouseout="hideTip(event, 'fs68', 144)" onmouseover="showTip(event, 'fs68', 144)" class="fn">generateCall</span>
</code></pre>
<h2><a name="Introduction-to-Topic-modeling" class="anchor" href="#Introduction-to-Topic-modeling">Introduction to Topic modeling</a></h2>
<p>Topic detection or <strong>topic modeling</strong> is a technique of automatically extracting meaning from texts
by identifying recurrent themes or topics.</p>
<p>Topic modeling is a method for analyzing large volumes of unlabeld text data. It helps in:
- Discovering hidden topical patterns that are present across the collection</p>
<ul>
<li>Annotating documents according to these topics</li>
<li>Using these annotations to organize, search and summarize texts</li>
</ul>
<p>A <em>topic</em> consists of a cluster of words that frequently occur together.
This is essentially a clustering problem - we can think of both words and documents as being clustered.</p>
<p>There are many techniques that are used to obtain topic models. One of the commonly used is
<strong>Latent Dirichlet Allocation (LDA)</strong></p>
<h2><a name="Predicting-Returns-with-Text-Data" class="anchor" href="#Predicting-Returns-with-Text-Data">Predicting Returns with Text Data</a></h2>
<p><strong>SESTM: A Supervised Sentiment Extraction Algorithm</strong></p>
<p>Methodology:</p>
<ol>
<li><p>Feature selection: create a set of sentiment-charged words via <em>predictive (correlation) screening</em></p></li>
<li>Assign prediction/sentiment weights to these words via a supervised topic model (i.e. estimate positive and negative sentiment topics)</li>
<li>Aggregate terms into an article-level predictive score via penalized likelihood.</li>
<li>
<p>Model is motivated by the view that return-predictive content of a given event is
reflected <em>both</em> in the news article text and in the returns of related assets.</p>
</li>
<li><p>Method has an objective of extracting general <em>return predictive</em> content from text.</p></li>
</ol>
<p><strong>Advantages</strong></p>
<ul>
<li>
<p>Simplicity: only requires standard econometric techniques such as correlation analysis and maximum likelihood estimation.
Additionally, unlike other deep learning approaches, the proposed <em>supervised</em> learning approach is entirely "white-box".</p>
</li>
<li>Minimal computing power required.</li>
<li>Free of any pre-existing sentiment dictionary (polarized words, sentiment lexicons, etc...). No use of ad hoc word-weighting schemes.</li>
</ul>
<p>Bottom line: A sentiment scoring model is constructed from the <em>joint</em> behaviour of
article text and stock returns.</p>
<p><strong>Theoretical Reusults</strong></p>
<ul>
<li>The guarantee of retrieving a sentiment dictionary from training data via correlation screening.</li>
<li>
<p>The derivation of sharp error bounds for parameter estimation. The error bounds depend on the scale
of the corpus (e.g., size of the vocabulary, total number of text documents, average number of words
per document, etc.), and the strength of sentiment signals (e.g., the sentivity of returns to sentiment,
sensitivity of text generation to sentiment, etc.).</p>
</li>
<li>The error of predicting the sentiment score of a newly arriving article is both derived and quantified.</li>
</ul>
<h3><a name="A-Probabilistic-Model-for-Sentiment-Analysis" class="anchor" href="#A-Probabilistic-Model-for-Sentiment-Analysis">A Probabilistic Model for Sentiment Analysis</a></h3>
<h3><a name="1-Screening-for-Sentiment-Charged-words" class="anchor" href="#1-Screening-for-Sentiment-Charged-words">1) Screening for Sentiment-Charged words</a></h3>
<p>Objective: Isolate the subset of sentiment-charged words (remove sentiment-neutral words, i.e. noise).</p>
<p>Intuitively, if a word frequently co-occurs in articles that are accompanied
by positive returns, that word is likely to convey positive sentiment.</p>
<p>Methodology:</p>
<ol>
<li>
<p>Calculate the frequency with which each word (or phrase) <em>j</em> co-occurs with a positive
return. (screening-score <span class="math">\(f_{j}\)</span>)</p>
</li>
<li><p>Compare <span class="math">\(f_{j}\)</span> with proper thresholds and create the sentiment-charged set of words <span class="math">\(S\)</span>.</p></li>
</ol>
<h4><a name="1A-Screening-Score" class="anchor" href="#1A-Screening-Score">1A) Screening Score</a></h4>
<p>Before computing any scores, we need to first find out the frequency and "occurence" of each word or text item in the corpus of documents.</p>
<p>While the frequency of each text item or word is simply its total count across all documents, an item's occurence is equivalent to the total count of <em>documents</em> that include it.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Vector of item counts per Group (Flag) (Bag of words per group)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs84', 145)" onmouseover="showTip(event, 'fs84', 145)" class="id">itemOccurenceByGroup</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs85', 146)" onmouseover="showTip(event, 'fs85', 146)" class="id">itemFrequencyByGroup</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs79', 147)" onmouseover="showTip(event, 'fs79', 147)" class="id">trainCalls</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 148)" onmouseover="showTip(event, 'fs36', 148)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs86', 149)" onmouseover="showTip(event, 'fs86', 149)" class="id">groupBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 150)" onmouseover="showTip(event, 'fs87', 150)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs87', 151)" onmouseover="showTip(event, 'fs87', 151)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs88', 152)" onmouseover="showTip(event, 'fs88', 152)" class="id">Flag</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 153)" onmouseover="showTip(event, 'fs36', 153)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs76', 154)" onmouseover="showTip(event, 'fs76', 154)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs89', 155)" onmouseover="showTip(event, 'fs89', 155)" class="fn">group</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs90', 156)" onmouseover="showTip(event, 'fs90', 156)" class="fn">callsOfGroup</span><span class="pn">)</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs90', 157)" onmouseover="showTip(event, 'fs90', 157)" class="fn">callsOfGroup</span> 
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 158)" onmouseover="showTip(event, 'fs36', 158)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs91', 159)" onmouseover="showTip(event, 'fs91', 159)" class="id">collect</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 160)" onmouseover="showTip(event, 'fs87', 160)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs87', 161)" onmouseover="showTip(event, 'fs87', 161)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs92', 162)" onmouseover="showTip(event, 'fs92', 162)" class="id">WordCount</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 163)" onmouseover="showTip(event, 'fs36', 163)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs86', 164)" onmouseover="showTip(event, 'fs86', 164)" class="id">groupBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs93', 165)" onmouseover="showTip(event, 'fs93', 165)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs93', 166)" onmouseover="showTip(event, 'fs93', 166)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 167)" onmouseover="showTip(event, 'fs52', 167)" class="id">Word</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 168)" onmouseover="showTip(event, 'fs36', 168)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs76', 169)" onmouseover="showTip(event, 'fs76', 169)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs94', 170)" onmouseover="showTip(event, 'fs94', 170)" class="fn">wordId</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs95', 171)" onmouseover="showTip(event, 'fs95', 171)" class="fn">wordCounts</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span onmouseout="hideTip(event, 'fs95', 172)" onmouseover="showTip(event, 'fs95', 172)" class="fn">wordCounts</span>
            <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs96', 173)" onmouseover="showTip(event, 'fs96', 173)" class="fn">xs</span> <span class="k">-&gt;</span> 
                <span class="c">// Occurence (# of articles that word j appears)</span>
                <span class="pn">(</span><span onmouseout="hideTip(event, 'fs94', 174)" onmouseover="showTip(event, 'fs94', 174)" class="fn">wordId</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs96', 175)" onmouseover="showTip(event, 'fs96', 175)" class="fn">xs</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 176)" onmouseover="showTip(event, 'fs36', 176)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 177)" onmouseover="showTip(event, 'fs97', 177)" class="id">length</span><span class="pn">)</span><span class="pn">,</span>
                <span class="c">// Frequency (total count of word j in all articles)</span>
                <span class="pn">(</span><span onmouseout="hideTip(event, 'fs94', 178)" onmouseover="showTip(event, 'fs94', 178)" class="fn">wordId</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs96', 179)" onmouseover="showTip(event, 'fs96', 179)" class="fn">xs</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 180)" onmouseover="showTip(event, 'fs36', 180)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 181)" onmouseover="showTip(event, 'fs98', 181)" class="id">sumBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs93', 182)" onmouseover="showTip(event, 'fs93', 182)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs93', 183)" onmouseover="showTip(event, 'fs93', 183)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 184)" onmouseover="showTip(event, 'fs53', 184)" class="id">Count</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 185)" onmouseover="showTip(event, 'fs36', 185)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 186)" onmouseover="showTip(event, 'fs39', 186)" class="id">toArray</span>
        <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs99', 187)" onmouseover="showTip(event, 'fs99', 187)" class="fn">xs</span> <span class="k">-&gt;</span>
            <span class="pn">(</span><span onmouseout="hideTip(event, 'fs89', 188)" onmouseover="showTip(event, 'fs89', 188)" class="fn">group</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs99', 189)" onmouseover="showTip(event, 'fs99', 189)" class="fn">xs</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 190)" onmouseover="showTip(event, 'fs81', 190)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 191)" onmouseover="showTip(event, 'fs100', 191)" class="id">map</span> <span onmouseout="hideTip(event, 'fs71', 192)" onmouseover="showTip(event, 'fs71', 192)" class="fn">fst</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 193)" onmouseover="showTip(event, 'fs101', 193)" class="fn">Map</span><span class="pn">)</span><span class="pn">,</span> 
            <span class="pn">(</span><span onmouseout="hideTip(event, 'fs89', 194)" onmouseover="showTip(event, 'fs89', 194)" class="fn">group</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs99', 195)" onmouseover="showTip(event, 'fs99', 195)" class="fn">xs</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 196)" onmouseover="showTip(event, 'fs81', 196)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 197)" onmouseover="showTip(event, 'fs100', 197)" class="id">map</span> <span onmouseout="hideTip(event, 'fs72', 198)" onmouseover="showTip(event, 'fs72', 198)" class="fn">snd</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 199)" onmouseover="showTip(event, 'fs101', 199)" class="fn">Map</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 200)" onmouseover="showTip(event, 'fs36', 200)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 201)" onmouseover="showTip(event, 'fs39', 201)" class="id">toArray</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs102', 202)" onmouseover="showTip(event, 'fs102', 202)" class="fn">xs</span> <span class="k">-&gt;</span> 
        <span class="pn">(</span><span onmouseout="hideTip(event, 'fs102', 203)" onmouseover="showTip(event, 'fs102', 203)" class="fn">xs</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 204)" onmouseover="showTip(event, 'fs81', 204)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 205)" onmouseover="showTip(event, 'fs100', 205)" class="id">map</span> <span onmouseout="hideTip(event, 'fs71', 206)" onmouseover="showTip(event, 'fs71', 206)" class="fn">fst</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 207)" onmouseover="showTip(event, 'fs101', 207)" class="fn">Map</span><span class="pn">)</span><span class="pn">,</span>
        <span class="pn">(</span><span onmouseout="hideTip(event, 'fs102', 208)" onmouseover="showTip(event, 'fs102', 208)" class="fn">xs</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 209)" onmouseover="showTip(event, 'fs81', 209)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 210)" onmouseover="showTip(event, 'fs100', 210)" class="id">map</span> <span onmouseout="hideTip(event, 'fs72', 211)" onmouseover="showTip(event, 'fs72', 211)" class="fn">snd</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 212)" onmouseover="showTip(event, 'fs101', 212)" class="fn">Map</span><span class="pn">)</span>

<span class="c">/// Frequency/Occurence finder</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs103', 213)" onmouseover="showTip(event, 'fs103', 213)" class="fn">countOfItemInGroup</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs89', 214)" onmouseover="showTip(event, 'fs89', 214)" class="fn">group</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs54', 215)" onmouseover="showTip(event, 'fs54', 215)" class="rt">Sentiment</span><span class="pn">)</span>
                       <span class="pn">(</span><span onmouseout="hideTip(event, 'fs104', 216)" onmouseover="showTip(event, 'fs104', 216)" class="fn">wordSentimentMap</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs101', 217)" onmouseover="showTip(event, 'fs101', 217)" class="rt">Map</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs54', 218)" onmouseover="showTip(event, 'fs54', 218)" class="rt">Sentiment</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs101', 219)" onmouseover="showTip(event, 'fs101', 219)" class="rt">Map</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs18', 220)" onmouseover="showTip(event, 'fs18', 220)" class="rt">string</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs43', 221)" onmouseover="showTip(event, 'fs43', 221)" class="vt">int</span><span class="pn">&gt;</span><span class="pn">&gt;</span><span class="pn">)</span>
                       <span class="pn">(</span><span onmouseout="hideTip(event, 'fs105', 222)" onmouseover="showTip(event, 'fs105', 222)" class="fn">item</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs18', 223)" onmouseover="showTip(event, 'fs18', 223)" class="rt">string</span><span class="pn">)</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs104', 224)" onmouseover="showTip(event, 'fs104', 224)" class="fn">wordSentimentMap</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs106', 225)" onmouseover="showTip(event, 'fs106', 225)" class="id">TryFind</span> <span onmouseout="hideTip(event, 'fs89', 226)" onmouseover="showTip(event, 'fs89', 226)" class="fn">group</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs107', 227)" onmouseover="showTip(event, 'fs107', 227)" class="m">Option</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 228)" onmouseover="showTip(event, 'fs108', 228)" class="id">bind</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs109', 229)" onmouseover="showTip(event, 'fs109', 229)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs109', 230)" onmouseover="showTip(event, 'fs109', 230)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs106', 231)" onmouseover="showTip(event, 'fs106', 231)" class="id">TryFind</span> <span onmouseout="hideTip(event, 'fs105', 232)" onmouseover="showTip(event, 'fs105', 232)" class="fn">item</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs103', 233)" onmouseover="showTip(event, 'fs103', 233)" class="fn">countOfItemInGroup</span> <span onmouseout="hideTip(event, 'fs55', 234)" onmouseover="showTip(event, 'fs55', 234)" class="uc">Positive</span> <span onmouseout="hideTip(event, 'fs85', 235)" onmouseover="showTip(event, 'fs85', 235)" class="id">itemFrequencyByGroup</span> <span class="s">&quot;sales&quot;</span>
<span onmouseout="hideTip(event, 'fs103', 236)" onmouseover="showTip(event, 'fs103', 236)" class="fn">countOfItemInGroup</span> <span onmouseout="hideTip(event, 'fs55', 237)" onmouseover="showTip(event, 'fs55', 237)" class="uc">Positive</span> <span onmouseout="hideTip(event, 'fs84', 238)" onmouseover="showTip(event, 'fs84', 238)" class="id">itemOccurenceByGroup</span> <span class="s">&quot;sales&quot;</span>
</code></pre>
<p>While the frequency of each text item or word is simply its total count across all documents, an item's occurence is equivalent to the total count of <em>documents</em> that include text item <em>j</em>.</p>
<p>We can then define two variants of screening scores:</p>
<ol>
<li>Screening score based on total word frequency:</li>
</ol>
<p><span class="math">\[f_{j} = \frac{{\text{count of word } j \text{ in articles with } sgn(y) = +1 }}{\text{count of word } j \text{ in all articles}} \]</span></p>
<ol>
<li>Screening score based on word occurence across documents:</li>
</ol>
<p><span class="math">\[f_{j}^{*} = \frac{{\text{count of articles including word } j \text{ in articles with } sgn(y) = +1 }}{\text{count of articles including word } j }\]</span></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs110', 239)" onmouseover="showTip(event, 'fs110', 239)" class="rt">CountType</span> <span class="o">=</span> 
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs111', 240)" onmouseover="showTip(event, 'fs111', 240)" class="uc">Frequency</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs112', 241)" onmouseover="showTip(event, 'fs112', 241)" class="uc">Occurence</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs113', 242)" onmouseover="showTip(event, 'fs113', 242)" class="rt">TextItemScreening</span> <span class="o">=</span>
    <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs114', 243)" onmouseover="showTip(event, 'fs114', 243)" class="prop">TextItem</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs18', 244)" onmouseover="showTip(event, 'fs18', 244)" class="rt">string</span>
      <span onmouseout="hideTip(event, 'fs115', 245)" onmouseover="showTip(event, 'fs115', 245)" class="prop">Score</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs21', 246)" onmouseover="showTip(event, 'fs21', 246)" class="vt">float</span>
      <span onmouseout="hideTip(event, 'fs116', 247)" onmouseover="showTip(event, 'fs116', 247)" class="prop">Count</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs21', 248)" onmouseover="showTip(event, 'fs21', 248)" class="vt">float</span> 
      <span onmouseout="hideTip(event, 'fs117', 249)" onmouseover="showTip(event, 'fs117', 249)" class="prop">CountType</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs110', 250)" onmouseover="showTip(event, 'fs110', 250)" class="rt">CountType</span> <span class="pn">}</span>

<span class="c">/// Vocabulary (training set only)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs118', 251)" onmouseover="showTip(event, 'fs118', 251)" class="id">vocabulary</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs79', 252)" onmouseover="showTip(event, 'fs79', 252)" class="id">trainCalls</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 253)" onmouseover="showTip(event, 'fs36', 253)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs91', 254)" onmouseover="showTip(event, 'fs91', 254)" class="id">collect</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 255)" onmouseover="showTip(event, 'fs87', 255)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs87', 256)" onmouseover="showTip(event, 'fs87', 256)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs92', 257)" onmouseover="showTip(event, 'fs92', 257)" class="id">WordCount</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 258)" onmouseover="showTip(event, 'fs81', 258)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 259)" onmouseover="showTip(event, 'fs100', 259)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs93', 260)" onmouseover="showTip(event, 'fs93', 260)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs93', 261)" onmouseover="showTip(event, 'fs93', 261)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 262)" onmouseover="showTip(event, 'fs52', 262)" class="id">Word</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 263)" onmouseover="showTip(event, 'fs36', 263)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 264)" onmouseover="showTip(event, 'fs119', 264)" class="id">distinct</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 265)" onmouseover="showTip(event, 'fs36', 265)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 266)" onmouseover="showTip(event, 'fs39', 266)" class="id">toArray</span>

<span class="c">/// Get scores from given word sentiment map (Frequency or Occurence)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs120', 267)" onmouseover="showTip(event, 'fs120', 267)" class="fn">getScores</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs104', 268)" onmouseover="showTip(event, 'fs104', 268)" class="fn">wordSentimentMap</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs101', 269)" onmouseover="showTip(event, 'fs101', 269)" class="rt">Map</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs54', 270)" onmouseover="showTip(event, 'fs54', 270)" class="rt">Sentiment</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs101', 271)" onmouseover="showTip(event, 'fs101', 271)" class="rt">Map</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs18', 272)" onmouseover="showTip(event, 'fs18', 272)" class="rt">string</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs43', 273)" onmouseover="showTip(event, 'fs43', 273)" class="vt">int</span><span class="pn">&gt;</span><span class="pn">&gt;</span><span class="pn">)</span>
              <span class="pn">(</span><span onmouseout="hideTip(event, 'fs121', 274)" onmouseover="showTip(event, 'fs121', 274)" class="fn">countType</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs110', 275)" onmouseover="showTip(event, 'fs110', 275)" class="rt">CountType</span><span class="pn">)</span> <span class="o">=</span> 

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs122', 276)" onmouseover="showTip(event, 'fs122', 276)" class="fn">getItemScore</span> <span onmouseout="hideTip(event, 'fs105', 277)" onmouseover="showTip(event, 'fs105', 277)" class="fn">item</span> <span class="o">=</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs123', 278)" onmouseover="showTip(event, 'fs123', 278)" class="fn">generateItemScore</span> <span onmouseout="hideTip(event, 'fs105', 279)" onmouseover="showTip(event, 'fs105', 279)" class="fn">item</span> <span onmouseout="hideTip(event, 'fs124', 280)" onmouseover="showTip(event, 'fs124', 280)" class="fn">score</span> <span onmouseout="hideTip(event, 'fs125', 281)" onmouseover="showTip(event, 'fs125', 281)" class="fn">count</span> <span class="o">=</span> 
            <span class="pn">{</span><span class="prop">TextItem</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs105', 282)" onmouseover="showTip(event, 'fs105', 282)" class="fn">item</span><span class="pn">;</span> <span class="prop">Score</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs124', 283)" onmouseover="showTip(event, 'fs124', 283)" class="fn">score</span><span class="pn">;</span> <span class="prop">Count</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs125', 284)" onmouseover="showTip(event, 'fs125', 284)" class="fn">count</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs110', 285)" onmouseover="showTip(event, 'fs110', 285)" class="prop">CountType</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs121', 286)" onmouseover="showTip(event, 'fs121', 286)" class="fn">countType</span> <span class="pn">}</span>

        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs126', 287)" onmouseover="showTip(event, 'fs126', 287)" class="fn">posN</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs127', 288)" onmouseover="showTip(event, 'fs127', 288)" class="fn">negN</span> <span class="o">=</span> 
            <span onmouseout="hideTip(event, 'fs103', 289)" onmouseover="showTip(event, 'fs103', 289)" class="fn">countOfItemInGroup</span> <span onmouseout="hideTip(event, 'fs55', 290)" onmouseover="showTip(event, 'fs55', 290)" class="uc">Positive</span> <span onmouseout="hideTip(event, 'fs104', 291)" onmouseover="showTip(event, 'fs104', 291)" class="fn">wordSentimentMap</span> <span onmouseout="hideTip(event, 'fs105', 292)" onmouseover="showTip(event, 'fs105', 292)" class="fn">item</span><span class="pn">,</span>
            <span onmouseout="hideTip(event, 'fs103', 293)" onmouseover="showTip(event, 'fs103', 293)" class="fn">countOfItemInGroup</span> <span onmouseout="hideTip(event, 'fs56', 294)" onmouseover="showTip(event, 'fs56', 294)" class="uc">Negative</span> <span onmouseout="hideTip(event, 'fs104', 295)" onmouseover="showTip(event, 'fs104', 295)" class="fn">wordSentimentMap</span> <span onmouseout="hideTip(event, 'fs105', 296)" onmouseover="showTip(event, 'fs105', 296)" class="fn">item</span> 

        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs126', 297)" onmouseover="showTip(event, 'fs126', 297)" class="fn">posN</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs127', 298)" onmouseover="showTip(event, 'fs127', 298)" class="fn">negN</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs128', 299)" onmouseover="showTip(event, 'fs128', 299)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs129', 300)" onmouseover="showTip(event, 'fs129', 300)" class="fn">p</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs128', 301)" onmouseover="showTip(event, 'fs128', 301)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs130', 302)" onmouseover="showTip(event, 'fs130', 302)" class="fn">n</span> <span class="k">-&gt;</span> 
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs125', 303)" onmouseover="showTip(event, 'fs125', 303)" class="fn">count</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 304)" onmouseover="showTip(event, 'fs21', 304)" class="fn">float</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs129', 305)" onmouseover="showTip(event, 'fs129', 305)" class="fn">p</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs130', 306)" onmouseover="showTip(event, 'fs130', 306)" class="fn">n</span><span class="pn">)</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs124', 307)" onmouseover="showTip(event, 'fs124', 307)" class="fn">score</span> <span class="o">=</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs21', 308)" onmouseover="showTip(event, 'fs21', 308)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs129', 309)" onmouseover="showTip(event, 'fs129', 309)" class="fn">p</span><span class="pn">)</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs125', 310)" onmouseover="showTip(event, 'fs125', 310)" class="fn">count</span>
            <span onmouseout="hideTip(event, 'fs128', 311)" onmouseover="showTip(event, 'fs128', 311)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs123', 312)" onmouseover="showTip(event, 'fs123', 312)" class="fn">generateItemScore</span> <span onmouseout="hideTip(event, 'fs105', 313)" onmouseover="showTip(event, 'fs105', 313)" class="fn">item</span> <span onmouseout="hideTip(event, 'fs124', 314)" onmouseover="showTip(event, 'fs124', 314)" class="fn">score</span> <span onmouseout="hideTip(event, 'fs125', 315)" onmouseover="showTip(event, 'fs125', 315)" class="fn">count</span><span class="pn">)</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs128', 316)" onmouseover="showTip(event, 'fs128', 316)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs129', 317)" onmouseover="showTip(event, 'fs129', 317)" class="fn">p</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs131', 318)" onmouseover="showTip(event, 'fs131', 318)" class="uc">None</span> <span class="k">-&gt;</span> 
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs124', 319)" onmouseover="showTip(event, 'fs124', 319)" class="fn">score</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs125', 320)" onmouseover="showTip(event, 'fs125', 320)" class="fn">count</span> <span class="o">=</span> <span class="n">1.</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 321)" onmouseover="showTip(event, 'fs21', 321)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs129', 322)" onmouseover="showTip(event, 'fs129', 322)" class="fn">p</span>
            <span onmouseout="hideTip(event, 'fs128', 323)" onmouseover="showTip(event, 'fs128', 323)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs123', 324)" onmouseover="showTip(event, 'fs123', 324)" class="fn">generateItemScore</span> <span onmouseout="hideTip(event, 'fs105', 325)" onmouseover="showTip(event, 'fs105', 325)" class="fn">item</span> <span onmouseout="hideTip(event, 'fs124', 326)" onmouseover="showTip(event, 'fs124', 326)" class="fn">score</span> <span onmouseout="hideTip(event, 'fs125', 327)" onmouseover="showTip(event, 'fs125', 327)" class="fn">count</span><span class="pn">)</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs131', 328)" onmouseover="showTip(event, 'fs131', 328)" class="uc">None</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs128', 329)" onmouseover="showTip(event, 'fs128', 329)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs130', 330)" onmouseover="showTip(event, 'fs130', 330)" class="fn">n</span> <span class="k">-&gt;</span> 
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs124', 331)" onmouseover="showTip(event, 'fs124', 331)" class="fn">score</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs125', 332)" onmouseover="showTip(event, 'fs125', 332)" class="fn">count</span> <span class="o">=</span> <span class="n">0.</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 333)" onmouseover="showTip(event, 'fs21', 333)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs130', 334)" onmouseover="showTip(event, 'fs130', 334)" class="fn">n</span>
            <span onmouseout="hideTip(event, 'fs128', 335)" onmouseover="showTip(event, 'fs128', 335)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs123', 336)" onmouseover="showTip(event, 'fs123', 336)" class="fn">generateItemScore</span> <span onmouseout="hideTip(event, 'fs105', 337)" onmouseover="showTip(event, 'fs105', 337)" class="fn">item</span> <span onmouseout="hideTip(event, 'fs124', 338)" onmouseover="showTip(event, 'fs124', 338)" class="fn">score</span> <span onmouseout="hideTip(event, 'fs125', 339)" onmouseover="showTip(event, 'fs125', 339)" class="fn">count</span><span class="pn">)</span>
        <span class="pn">|</span> <span class="id">_</span> <span class="k">-&gt;</span>  <span onmouseout="hideTip(event, 'fs131', 340)" onmouseover="showTip(event, 'fs131', 340)" class="uc">None</span>
    
    <span onmouseout="hideTip(event, 'fs118', 341)" onmouseover="showTip(event, 'fs118', 341)" class="id">vocabulary</span>
    <span class="c">// Compute text item scores</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 342)" onmouseover="showTip(event, 'fs81', 342)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs82', 343)" onmouseover="showTip(event, 'fs82', 343)" class="m">Parallel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs132', 344)" onmouseover="showTip(event, 'fs132', 344)" class="id">choose</span> <span onmouseout="hideTip(event, 'fs122', 345)" onmouseover="showTip(event, 'fs122', 345)" class="fn">getItemScore</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 346)" onmouseover="showTip(event, 'fs81', 346)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 347)" onmouseover="showTip(event, 'fs100', 347)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs133', 348)" onmouseover="showTip(event, 'fs133', 348)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs133', 349)" onmouseover="showTip(event, 'fs133', 349)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs114', 350)" onmouseover="showTip(event, 'fs114', 350)" class="id">TextItem</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs133', 351)" onmouseover="showTip(event, 'fs133', 351)" class="fn">xs</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 352)" onmouseover="showTip(event, 'fs101', 352)" class="fn">Map</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs134', 353)" onmouseover="showTip(event, 'fs134', 353)" class="id">itemOccurenceScores</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs135', 354)" onmouseover="showTip(event, 'fs135', 354)" class="id">itemFrequencyScores</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs120', 355)" onmouseover="showTip(event, 'fs120', 355)" class="fn">getScores</span> <span onmouseout="hideTip(event, 'fs84', 356)" onmouseover="showTip(event, 'fs84', 356)" class="id">itemOccurenceByGroup</span> <span onmouseout="hideTip(event, 'fs112', 357)" onmouseover="showTip(event, 'fs112', 357)" class="uc">Occurence</span><span class="pn">,</span> 
    <span onmouseout="hideTip(event, 'fs120', 358)" onmouseover="showTip(event, 'fs120', 358)" class="fn">getScores</span> <span onmouseout="hideTip(event, 'fs85', 359)" onmouseover="showTip(event, 'fs85', 359)" class="id">itemFrequencyByGroup</span> <span onmouseout="hideTip(event, 'fs111', 360)" onmouseover="showTip(event, 'fs111', 360)" class="uc">Frequency</span>
</code></pre>
<p>Histogram: Item scores</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs135', 361)" onmouseover="showTip(event, 'fs135', 361)" class="id">itemFrequencyScores</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 362)" onmouseover="showTip(event, 'fs101', 362)" class="m">Map</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs136', 363)" onmouseover="showTip(event, 'fs136', 363)" class="id">toArray</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 364)" onmouseover="showTip(event, 'fs81', 364)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 365)" onmouseover="showTip(event, 'fs100', 365)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs77', 366)" onmouseover="showTip(event, 'fs77', 366)" class="fn">word</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs133', 367)" onmouseover="showTip(event, 'fs133', 367)" class="fn">xs</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs133', 368)" onmouseover="showTip(event, 'fs133', 368)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs115', 369)" onmouseover="showTip(event, 'fs115', 369)" class="id">Score</span><span class="pn">)</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 370)" onmouseover="showTip(event, 'fs81', 370)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs137', 371)" onmouseover="showTip(event, 'fs137', 371)" class="id">filter</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs138', 372)" onmouseover="showTip(event, 'fs138', 372)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs138', 373)" onmouseover="showTip(event, 'fs138', 373)" class="fn">xs</span> <span class="o">&gt;</span> <span class="n">0.25</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs138', 374)" onmouseover="showTip(event, 'fs138', 374)" class="fn">xs</span> <span class="o">&lt;</span> <span class="n">0.75</span><span class="pn">)</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs139', 375)" onmouseover="showTip(event, 'fs139', 375)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs140', 376)" onmouseover="showTip(event, 'fs140', 376)" class="id">Histogram</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs139', 377)" onmouseover="showTip(event, 'fs139', 377)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs141', 378)" onmouseover="showTip(event, 'fs141', 378)" class="id">Show</span>
</code></pre>
<h4><a name="1B-Sentiment-charged-set-of-words" class="anchor" href="#1B-Sentiment-charged-set-of-words">1B) Sentiment-charged set of words</a></h4>
<p><span class="math">\[\widehat{S} = \{j: f_{j} \geq \widehat{\pi} + \alpha_{+}, \text{ or } f_{j} \leq \widehat{\pi} - \alpha_{-} \} \cap \{ j: k_{j} \geq \kappa\}\]</span></p>
<ul>
<li><span class="math">\(f_{j} = \text{Sentiment-screening score of word } j\)</span></li>
<li><span class="math">\(\widehat{\pi} = \text{Fraction of articles tagged with a positive return}\)</span></li>
<li><span class="math">\(\alpha_{+} = \text{Upper sentiment-score threshold}\)</span></li>
<li><span class="math">\(\alpha_{-} = \text{Lower sentiment-score threshold}\)</span></li>
<li><span class="math">\(k_{j} = \text{count of word } j \text{ in all articles}\)</span></li>
</ul>
<p>The thresholds (<span class="math">\(\alpha{+}, \alpha{-}, \kappa\)</span>) are <em>hyper-parameters</em> that can be tuned via cross-validation.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Sentiment-charged words</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs142', 379)" onmouseover="showTip(event, 'fs142', 379)" class="fn">getChargedItems</span> <span onmouseout="hideTip(event, 'fs143', 380)" onmouseover="showTip(event, 'fs143', 380)" class="fn">alphaLower</span> <span onmouseout="hideTip(event, 'fs144', 381)" onmouseover="showTip(event, 'fs144', 381)" class="fn">alphaUpper</span> <span onmouseout="hideTip(event, 'fs145', 382)" onmouseover="showTip(event, 'fs145', 382)" class="fn">kappaPct</span> <span class="o">=</span> 

    <span class="c">// Count of text item in all articles</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs146', 383)" onmouseover="showTip(event, 'fs146', 383)" class="fn">kappa</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs145', 384)" onmouseover="showTip(event, 'fs145', 384)" class="fn">kappaPct</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs21', 385)" onmouseover="showTip(event, 'fs21', 385)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs32', 386)" onmouseover="showTip(event, 'fs32', 386)" class="id">train</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 387)" onmouseover="showTip(event, 'fs42', 387)" class="id">Length</span>

    <span class="c">// Upper and lower score thresholds</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs147', 388)" onmouseover="showTip(event, 'fs147', 388)" class="fn">upperThresh</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs148', 389)" onmouseover="showTip(event, 'fs148', 389)" class="fn">lowerThresh</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs79', 390)" onmouseover="showTip(event, 'fs79', 390)" class="id">trainCalls</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 391)" onmouseover="showTip(event, 'fs81', 391)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs137', 392)" onmouseover="showTip(event, 'fs137', 392)" class="id">filter</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 393)" onmouseover="showTip(event, 'fs87', 393)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs87', 394)" onmouseover="showTip(event, 'fs87', 394)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs88', 395)" onmouseover="showTip(event, 'fs88', 395)" class="id">Flag</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs55', 396)" onmouseover="showTip(event, 'fs55', 396)" class="uc">Positive</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs149', 397)" onmouseover="showTip(event, 'fs149', 397)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs21', 398)" onmouseover="showTip(event, 'fs21', 398)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs149', 399)" onmouseover="showTip(event, 'fs149', 399)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 400)" onmouseover="showTip(event, 'fs42', 400)" class="id">Length</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs21', 401)" onmouseover="showTip(event, 'fs21', 401)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs32', 402)" onmouseover="showTip(event, 'fs32', 402)" class="id">train</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 403)" onmouseover="showTip(event, 'fs42', 403)" class="id">Length</span>
        <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs150', 404)" onmouseover="showTip(event, 'fs150', 404)" class="fn">pieHat</span> <span class="k">-&gt;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs150', 405)" onmouseover="showTip(event, 'fs150', 405)" class="fn">pieHat</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs144', 406)" onmouseover="showTip(event, 'fs144', 406)" class="fn">alphaUpper</span><span class="pn">)</span><span class="pn">,</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs150', 407)" onmouseover="showTip(event, 'fs150', 407)" class="fn">pieHat</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs143', 408)" onmouseover="showTip(event, 'fs143', 408)" class="fn">alphaLower</span><span class="pn">)</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs151', 409)" onmouseover="showTip(event, 'fs151', 409)" class="fn">isCharged</span> <span onmouseout="hideTip(event, 'fs105', 410)" onmouseover="showTip(event, 'fs105', 410)" class="fn">item</span> <span class="o">=</span> 
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs135', 411)" onmouseover="showTip(event, 'fs135', 411)" class="id">itemFrequencyScores</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs106', 412)" onmouseover="showTip(event, 'fs106', 412)" class="id">TryFind</span> <span onmouseout="hideTip(event, 'fs105', 413)" onmouseover="showTip(event, 'fs105', 413)" class="fn">item</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs134', 414)" onmouseover="showTip(event, 'fs134', 414)" class="id">itemOccurenceScores</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs106', 415)" onmouseover="showTip(event, 'fs106', 415)" class="id">TryFind</span> <span onmouseout="hideTip(event, 'fs105', 416)" onmouseover="showTip(event, 'fs105', 416)" class="fn">item</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs128', 417)" onmouseover="showTip(event, 'fs128', 417)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs152', 418)" onmouseover="showTip(event, 'fs152', 418)" class="fn">freqScore</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs128', 419)" onmouseover="showTip(event, 'fs128', 419)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs153', 420)" onmouseover="showTip(event, 'fs153', 420)" class="fn">occScore</span> <span class="k">-&gt;</span> 
            <span class="k">if</span> <span class="pn">(</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs152', 421)" onmouseover="showTip(event, 'fs152', 421)" class="fn">freqScore</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs115', 422)" onmouseover="showTip(event, 'fs115', 422)" class="id">Score</span> <span class="o">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs147', 423)" onmouseover="showTip(event, 'fs147', 423)" class="fn">upperThresh</span> <span class="o">||</span> <span onmouseout="hideTip(event, 'fs152', 424)" onmouseover="showTip(event, 'fs152', 424)" class="fn">freqScore</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs115', 425)" onmouseover="showTip(event, 'fs115', 425)" class="id">Score</span> <span class="o">&lt;=</span> <span onmouseout="hideTip(event, 'fs148', 426)" onmouseover="showTip(event, 'fs148', 426)" class="fn">lowerThresh</span><span class="pn">)</span> <span class="o">&amp;&amp;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs153', 427)" onmouseover="showTip(event, 'fs153', 427)" class="fn">occScore</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs116', 428)" onmouseover="showTip(event, 'fs116', 428)" class="id">Count</span> <span class="o">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs146', 429)" onmouseover="showTip(event, 'fs146', 429)" class="fn">kappa</span><span class="pn">)</span><span class="pn">)</span>
            <span class="k">then</span> <span onmouseout="hideTip(event, 'fs128', 430)" onmouseover="showTip(event, 'fs128', 430)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs105', 431)" onmouseover="showTip(event, 'fs105', 431)" class="fn">item</span>
            <span class="k">else</span> <span onmouseout="hideTip(event, 'fs131', 432)" onmouseover="showTip(event, 'fs131', 432)" class="uc">None</span>
        <span class="pn">|</span> <span class="id">_</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs131', 433)" onmouseover="showTip(event, 'fs131', 433)" class="uc">None</span>

    <span onmouseout="hideTip(event, 'fs118', 434)" onmouseover="showTip(event, 'fs118', 434)" class="id">vocabulary</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 435)" onmouseover="showTip(event, 'fs81', 435)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs154', 436)" onmouseover="showTip(event, 'fs154', 436)" class="id">choose</span> <span onmouseout="hideTip(event, 'fs151', 437)" onmouseover="showTip(event, 'fs151', 437)" class="fn">isCharged</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs143', 438)" onmouseover="showTip(event, 'fs143', 438)" class="id">alphaLower</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs144', 439)" onmouseover="showTip(event, 'fs144', 439)" class="id">alphaUpper</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs146', 440)" onmouseover="showTip(event, 'fs146', 440)" class="id">kappa</span>  <span class="o">=</span> <span class="pn">(</span><span class="n">0.0075</span><span class="pn">,</span> <span class="n">0.0075</span><span class="pn">,</span> <span class="n">0.5</span><span class="pn">)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs155', 441)" onmouseover="showTip(event, 'fs155', 441)" class="id">chargedItems</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs142', 442)" onmouseover="showTip(event, 'fs142', 442)" class="fn">getChargedItems</span> <span onmouseout="hideTip(event, 'fs143', 443)" onmouseover="showTip(event, 'fs143', 443)" class="id">alphaLower</span> <span onmouseout="hideTip(event, 'fs144', 444)" onmouseover="showTip(event, 'fs144', 444)" class="id">alphaUpper</span> <span onmouseout="hideTip(event, 'fs146', 445)" onmouseover="showTip(event, 'fs146', 445)" class="id">kappa</span>

<span onmouseout="hideTip(event, 'fs155', 446)" onmouseover="showTip(event, 'fs155', 446)" class="id">chargedItems</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 447)" onmouseover="showTip(event, 'fs42', 447)" class="id">Length</span>
</code></pre>
<h4><a name="Filtering-original-item-counts" class="anchor" href="#Filtering-original-item-counts">Filtering original item counts</a></h4>
<ul>
<li>Filter train and test</li>
</ul>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs156', 448)" onmouseover="showTip(event, 'fs156', 448)" class="fn">filterCall</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs157', 449)" onmouseover="showTip(event, 'fs157', 449)" class="fn">call</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs158', 450)" onmouseover="showTip(event, 'fs158', 450)" class="rt">Call</span><span class="pn">)</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs158', 451)" onmouseover="showTip(event, 'fs158', 451)" class="rt">Call</span> <span class="o">=</span> 

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs159', 452)" onmouseover="showTip(event, 'fs159', 452)" class="fn">textItemsFromCall</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs157', 453)" onmouseover="showTip(event, 'fs157', 453)" class="fn">call</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs92', 454)" onmouseover="showTip(event, 'fs92', 454)" class="id">WordCount</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 455)" onmouseover="showTip(event, 'fs81', 455)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 456)" onmouseover="showTip(event, 'fs100', 456)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs93', 457)" onmouseover="showTip(event, 'fs93', 457)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs93', 458)" onmouseover="showTip(event, 'fs93', 458)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 459)" onmouseover="showTip(event, 'fs52', 459)" class="id">Word</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs93', 460)" onmouseover="showTip(event, 'fs93', 460)" class="fn">xs</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 461)" onmouseover="showTip(event, 'fs101', 461)" class="fn">Map</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs160', 462)" onmouseover="showTip(event, 'fs160', 462)" class="fn">filteredItemCounts</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs155', 463)" onmouseover="showTip(event, 'fs155', 463)" class="id">chargedItems</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 464)" onmouseover="showTip(event, 'fs81', 464)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 465)" onmouseover="showTip(event, 'fs100', 465)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs161', 466)" onmouseover="showTip(event, 'fs161', 466)" class="fn">chargedWord</span> <span class="k">-&gt;</span> 
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs159', 467)" onmouseover="showTip(event, 'fs159', 467)" class="fn">textItemsFromCall</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs106', 468)" onmouseover="showTip(event, 'fs106', 468)" class="id">TryFind</span> <span onmouseout="hideTip(event, 'fs161', 469)" onmouseover="showTip(event, 'fs161', 469)" class="fn">chargedWord</span> <span class="k">with</span>
            <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs128', 470)" onmouseover="showTip(event, 'fs128', 470)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs162', 471)" onmouseover="showTip(event, 'fs162', 471)" class="fn">wordCount</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs162', 472)" onmouseover="showTip(event, 'fs162', 472)" class="fn">wordCount</span>
            <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs131', 473)" onmouseover="showTip(event, 'fs131', 473)" class="uc">None</span> <span class="k">-&gt;</span> <span class="pn">{</span><span class="prop">Word</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs161', 474)" onmouseover="showTip(event, 'fs161', 474)" class="fn">chargedWord</span><span class="pn">;</span> <span class="prop">Count</span> <span class="o">=</span> <span class="n">0</span><span class="pn">}</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 475)" onmouseover="showTip(event, 'fs81', 475)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs163', 476)" onmouseover="showTip(event, 'fs163', 476)" class="id">sortBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs93', 477)" onmouseover="showTip(event, 'fs93', 477)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs93', 478)" onmouseover="showTip(event, 'fs93', 478)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 479)" onmouseover="showTip(event, 'fs52', 479)" class="id">Word</span><span class="pn">)</span>
    
    <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs48', 480)" onmouseover="showTip(event, 'fs48', 480)" class="prop">CallId</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs157', 481)" onmouseover="showTip(event, 'fs157', 481)" class="fn">call</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs164', 482)" onmouseover="showTip(event, 'fs164', 482)" class="id">CallId</span>
      <span onmouseout="hideTip(event, 'fs51', 483)" onmouseover="showTip(event, 'fs51', 483)" class="prop">WordCount</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs160', 484)" onmouseover="showTip(event, 'fs160', 484)" class="fn">filteredItemCounts</span>
      <span class="prop">Signal</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs157', 485)" onmouseover="showTip(event, 'fs157', 485)" class="fn">call</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 486)" onmouseover="showTip(event, 'fs59', 486)" class="id">Signal</span> <span class="pn">}</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs165', 487)" onmouseover="showTip(event, 'fs165', 487)" class="id">chargedTrain</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs79', 488)" onmouseover="showTip(event, 'fs79', 488)" class="id">trainCalls</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 489)" onmouseover="showTip(event, 'fs81', 489)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs82', 490)" onmouseover="showTip(event, 'fs82', 490)" class="m">Parallel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs83', 491)" onmouseover="showTip(event, 'fs83', 491)" class="id">map</span> <span onmouseout="hideTip(event, 'fs156', 492)" onmouseover="showTip(event, 'fs156', 492)" class="fn">filterCall</span>
    <span class="c">// Remove &quot;empty document vectors&quot;</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 493)" onmouseover="showTip(event, 'fs81', 493)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs137', 494)" onmouseover="showTip(event, 'fs137', 494)" class="id">filter</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 495)" onmouseover="showTip(event, 'fs87', 495)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs87', 496)" onmouseover="showTip(event, 'fs87', 496)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs92', 497)" onmouseover="showTip(event, 'fs92', 497)" class="id">WordCount</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 498)" onmouseover="showTip(event, 'fs81', 498)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs166', 499)" onmouseover="showTip(event, 'fs166', 499)" class="id">sumBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs93', 500)" onmouseover="showTip(event, 'fs93', 500)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs93', 501)" onmouseover="showTip(event, 'fs93', 501)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 502)" onmouseover="showTip(event, 'fs53', 502)" class="id">Count</span><span class="pn">)</span> <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs167', 503)" onmouseover="showTip(event, 'fs167', 503)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs167', 504)" onmouseover="showTip(event, 'fs167', 504)" class="fn">xs</span> <span class="o">&lt;&gt;</span> <span class="n">0</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs168', 505)" onmouseover="showTip(event, 'fs168', 505)" class="fn">getDocumentTermMatrix</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs169', 506)" onmouseover="showTip(event, 'fs169', 506)" class="fn">calls</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs158', 507)" onmouseover="showTip(event, 'fs158', 507)" class="rt">Call</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">)</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs169', 508)" onmouseover="showTip(event, 'fs169', 508)" class="fn">calls</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 509)" onmouseover="showTip(event, 'fs81', 509)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs163', 510)" onmouseover="showTip(event, 'fs163', 510)" class="id">sortBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 511)" onmouseover="showTip(event, 'fs87', 511)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs87', 512)" onmouseover="showTip(event, 'fs87', 512)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 513)" onmouseover="showTip(event, 'fs59', 513)" class="id">Signal</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 514)" onmouseover="showTip(event, 'fs81', 514)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 515)" onmouseover="showTip(event, 'fs100', 515)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 516)" onmouseover="showTip(event, 'fs87', 516)" class="fn">xs</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs87', 517)" onmouseover="showTip(event, 'fs87', 517)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs92', 518)" onmouseover="showTip(event, 'fs92', 518)" class="id">WordCount</span> 
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 519)" onmouseover="showTip(event, 'fs81', 519)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 520)" onmouseover="showTip(event, 'fs100', 520)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs93', 521)" onmouseover="showTip(event, 'fs93', 521)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs170', 522)" onmouseover="showTip(event, 'fs170', 522)" class="fn">double</span> <span onmouseout="hideTip(event, 'fs93', 523)" onmouseover="showTip(event, 'fs93', 523)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 524)" onmouseover="showTip(event, 'fs53', 524)" class="id">Count</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs171', 525)" onmouseover="showTip(event, 'fs171', 525)" class="fn">matrix</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs172', 526)" onmouseover="showTip(event, 'fs172', 526)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs172', 527)" onmouseover="showTip(event, 'fs172', 527)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs173', 528)" onmouseover="showTip(event, 'fs173', 528)" class="id">Transpose</span><span class="pn">(</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs174', 529)" onmouseover="showTip(event, 'fs174', 529)" class="id">chargedDocumentTermMatrix</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs168', 530)" onmouseover="showTip(event, 'fs168', 530)" class="fn">getDocumentTermMatrix</span> <span onmouseout="hideTip(event, 'fs165', 531)" onmouseover="showTip(event, 'fs165', 531)" class="id">chargedTrain</span>

<span onmouseout="hideTip(event, 'fs174', 532)" onmouseover="showTip(event, 'fs174', 532)" class="id">chargedDocumentTermMatrix</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs175', 533)" onmouseover="showTip(event, 'fs175', 533)" class="id">RowCount</span>
<span onmouseout="hideTip(event, 'fs174', 534)" onmouseover="showTip(event, 'fs174', 534)" class="id">chargedDocumentTermMatrix</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs176', 535)" onmouseover="showTip(event, 'fs176', 535)" class="id">ColumnCount</span>
</code></pre>
<h2><a name="2-Learning-Sentiment-Topics" class="anchor" href="#2-Learning-Sentiment-Topics">2. Learning Sentiment Topics</a></h2>
<p>Fitting a two-topic model to the sentiment-charged counts, <code>chargedItemCountsById</code>.</p>
<p>Some notation:</p>
<p><span class="math">\[\text{Consider a collection of } n \text{ articles and a dictionary of } m \text{ words.}\]</span></p>
<p><span class="math">\[d_{i} = \text{word or (phrase) counts of the } i^{th} article\]</span></p>
<p><span class="math">\[d_{i, j} = \text{ number of times word } j \text{ occurs in article } i\]</span></p>
<p><span class="math">\[D = m \times n \text{ document term matrix}; D = [d_{1}, ..., d{n}]\]</span></p>
<p>Model:</p>
<p><span class="math">\[d_{[S], i} \sim \text{Multinomial} (s_{i}, p_{i}O_{+} + (1 - p_{i})O_{-})\]</span></p>
<p><span class="math">\[p_{i} = \text{ article's sentiment score, } p_{i} \in [0,1]\]</span></p>
<p><span class="math">\[s_{i} = \text{ total count of sentiment-charged words in article } i\]</span></p>
<p><span class="math">\[O_{+} = \text{ positive sentiment topic}\]</span></p>
<p><span class="math">\[O_{-} = \text{ negative sentiment topic}\]</span></p>
<p><span class="math">\[\mathbb{E}h_{i} = \mathbb{E}\frac{d_{[S], i}}{s_{i}} = p_{i}O_{+} + (1 -p_{i})O_{-}\]</span></p>
<p>Estimate <span class="math">\[H\]</span> by plugging in <span class="math">\[\widehat{S}\]</span> from screening step:</p>
<p><span class="math">\[\widehat{h_{i}} = \frac{d_{[\widehat{S}], i}}{\widehat{s}_{i}}\]</span></p>
<p><span class="math">\[\widehat{s}_{i} = \sum_{j \in \widehat{S}}{d_{j, i}}\]</span></p>
<p>Estimate W using the standardized ranks of returns. For each each article <span class="math">\[i\]</span> in the training sample <span class="math">\[i = 1, ..., n\]</span>:</p>
<p><span class="math">\[\widehat{p}_{i} = \frac{\text{rank of } y_{i} \text{ in } \{y_{l}\}_{l=1}^{n}}{n}\]</span></p>
<h2><a name="Estimator" class="anchor" href="#Estimator">Estimator <span class="math">\(\widehat{O}\)</span></a></h2>
<h4><a name="header" class="anchor" href="#header"><span class="math">\(H\)</span></a></h4>
<p><span class="math">\[\widehat{H} = [\widehat{h_{1}}, \widehat{h_{2}},..., \widehat{h_{3}}]\]</span></p>
<p><span class="math">\[\widehat{h_{i}} = \frac{d_{[\widehat{S}], i}}{\widehat{s}_{i}} \text{      } \widehat{s}_{i} = \sum_{j \in \widehat{S}}{d_{j, i}}\]</span></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs177', 536)" onmouseover="showTip(event, 'fs177', 536)" class="id">bigH</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs174', 537)" onmouseover="showTip(event, 'fs174', 537)" class="id">chargedDocumentTermMatrix</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs178', 538)" onmouseover="showTip(event, 'fs178', 538)" class="fn">m</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs178', 539)" onmouseover="showTip(event, 'fs178', 539)" class="fn">m</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs179', 540)" onmouseover="showTip(event, 'fs179', 540)" class="id">ToColumnArrays</span><span class="pn">(</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 541)" onmouseover="showTip(event, 'fs81', 541)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 542)" onmouseover="showTip(event, 'fs100', 542)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs180', 543)" onmouseover="showTip(event, 'fs180', 543)" class="fn">itemCounts</span> <span class="k">-&gt;</span> 
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs181', 544)" onmouseover="showTip(event, 'fs181', 544)" class="fn">sumOfItemCounts</span> <span class="o">=</span> 
                <span onmouseout="hideTip(event, 'fs81', 545)" onmouseover="showTip(event, 'fs81', 545)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs182', 546)" onmouseover="showTip(event, 'fs182', 546)" class="id">sum</span> <span onmouseout="hideTip(event, 'fs180', 547)" onmouseover="showTip(event, 'fs180', 547)" class="fn">itemCounts</span> 

            <span onmouseout="hideTip(event, 'fs180', 548)" onmouseover="showTip(event, 'fs180', 548)" class="fn">itemCounts</span> 
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 549)" onmouseover="showTip(event, 'fs81', 549)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 550)" onmouseover="showTip(event, 'fs100', 550)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs183', 551)" onmouseover="showTip(event, 'fs183', 551)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs183', 552)" onmouseover="showTip(event, 'fs183', 552)" class="fn">xs</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs181', 553)" onmouseover="showTip(event, 'fs181', 553)" class="fn">sumOfItemCounts</span><span class="pn">)</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs171', 554)" onmouseover="showTip(event, 'fs171', 554)" class="fn">matrix</span>
        <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs172', 555)" onmouseover="showTip(event, 'fs172', 555)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs172', 556)" onmouseover="showTip(event, 'fs172', 556)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs173', 557)" onmouseover="showTip(event, 'fs173', 557)" class="id">Transpose</span><span class="pn">(</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs177', 558)" onmouseover="showTip(event, 'fs177', 558)" class="id">bigH</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs175', 559)" onmouseover="showTip(event, 'fs175', 559)" class="id">RowCount</span>
<span onmouseout="hideTip(event, 'fs177', 560)" onmouseover="showTip(event, 'fs177', 560)" class="id">bigH</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs176', 561)" onmouseover="showTip(event, 'fs176', 561)" class="id">ColumnCount</span>
</code></pre>
<h4><a name="header-1" class="anchor" href="#header-1"><span class="math">\(W\)</span></a></h4>
<p><span class="math">\[\widehat{W} = \begin{bmatrix} \widehat{p_{1}} &amp; \widehat{p_{2}} &amp; \cdots &amp; \widehat{p_{n}} \\ 1 - \widehat{p_{1}} &amp; 1 - \widehat{p_{2}} &amp; \cdots &amp; 1 -\widehat{p_{n}} \end{bmatrix}\]</span></p>
<p><span class="math">\[\widehat{p}_{i} = \frac{\text{rank of } y_{i} \text{ in } \{y_{l}\}_{l=1}^{n}}{n}\]</span></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs184', 562)" onmouseover="showTip(event, 'fs184', 562)" class="id">bigW</span> <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs185', 563)" onmouseover="showTip(event, 'fs185', 563)" class="fn">n</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs170', 564)" onmouseover="showTip(event, 'fs170', 564)" class="fn">double</span> <span onmouseout="hideTip(event, 'fs174', 565)" onmouseover="showTip(event, 'fs174', 565)" class="id">chargedDocumentTermMatrix</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs176', 566)" onmouseover="showTip(event, 'fs176', 566)" class="id">ColumnCount</span>

    <span onmouseout="hideTip(event, 'fs174', 567)" onmouseover="showTip(event, 'fs174', 567)" class="id">chargedDocumentTermMatrix</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs179', 568)" onmouseover="showTip(event, 'fs179', 568)" class="id">ToColumnArrays</span><span class="pn">(</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 569)" onmouseover="showTip(event, 'fs81', 569)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs186', 570)" onmouseover="showTip(event, 'fs186', 570)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs187', 571)" onmouseover="showTip(event, 'fs187', 571)" class="fn">i</span> <span class="id">_</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs170', 572)" onmouseover="showTip(event, 'fs170', 572)" class="fn">double</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs187', 573)" onmouseover="showTip(event, 'fs187', 573)" class="fn">i</span> <span class="o">+</span> <span class="n">1</span><span class="pn">)</span><span class="o">/</span> <span onmouseout="hideTip(event, 'fs185', 574)" onmouseover="showTip(event, 'fs185', 574)" class="fn">n</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs188', 575)" onmouseover="showTip(event, 'fs188', 575)" class="fn">xs</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs171', 576)" onmouseover="showTip(event, 'fs171', 576)" class="fn">matrix</span> <span class="pn">[|</span><span onmouseout="hideTip(event, 'fs188', 577)" onmouseover="showTip(event, 'fs188', 577)" class="fn">xs</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs188', 578)" onmouseover="showTip(event, 'fs188', 578)" class="fn">xs</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 579)" onmouseover="showTip(event, 'fs81', 579)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 580)" onmouseover="showTip(event, 'fs100', 580)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs189', 581)" onmouseover="showTip(event, 'fs189', 581)" class="fn">p</span> <span class="k">-&gt;</span> <span class="pn">(</span><span class="n">1.</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs189', 582)" onmouseover="showTip(event, 'fs189', 582)" class="fn">p</span><span class="pn">)</span><span class="pn">)</span><span class="pn">|]</span>

<span onmouseout="hideTip(event, 'fs184', 583)" onmouseover="showTip(event, 'fs184', 583)" class="id">bigW</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs175', 584)" onmouseover="showTip(event, 'fs175', 584)" class="id">RowCount</span>
<span onmouseout="hideTip(event, 'fs184', 585)" onmouseover="showTip(event, 'fs184', 585)" class="id">bigW</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs176', 586)" onmouseover="showTip(event, 'fs176', 586)" class="id">ColumnCount</span>

<span onmouseout="hideTip(event, 'fs177', 587)" onmouseover="showTip(event, 'fs177', 587)" class="id">bigH</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs190', 588)" onmouseover="showTip(event, 'fs190', 588)" class="id">Multiply</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs184', 589)" onmouseover="showTip(event, 'fs184', 589)" class="id">bigW</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs173', 590)" onmouseover="showTip(event, 'fs173', 590)" class="id">Transpose</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
</code></pre>
<h4><a name="header-2" class="anchor" href="#header-2"><span class="math">\(O\)</span></a></h4>
<p><span class="math">\[\widehat{O} = [\widehat{h_{1}}, \widehat{h_{2}},\ldots, \widehat{h_{n}}] \widehat{W}^{'} (\widehat{W}\widehat{W}^{'})^{-1}\]</span></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs191', 591)" onmouseover="showTip(event, 'fs191', 591)" class="id">bigO</span> <span class="o">=</span> 
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs192', 592)" onmouseover="showTip(event, 'fs192', 592)" class="fn">h</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs193', 593)" onmouseover="showTip(event, 'fs193', 593)" class="fn">w</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs194', 594)" onmouseover="showTip(event, 'fs194', 594)" class="fn">w&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs177', 595)" onmouseover="showTip(event, 'fs177', 595)" class="id">bigH</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs184', 596)" onmouseover="showTip(event, 'fs184', 596)" class="id">bigW</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs184', 597)" onmouseover="showTip(event, 'fs184', 597)" class="id">bigW</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs173', 598)" onmouseover="showTip(event, 'fs173', 598)" class="id">Transpose</span><span class="pn">(</span><span class="pn">)</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs195', 599)" onmouseover="showTip(event, 'fs195', 599)" class="fn">ww&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs193', 600)" onmouseover="showTip(event, 'fs193', 600)" class="fn">w</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs190', 601)" onmouseover="showTip(event, 'fs190', 601)" class="id">Multiply</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs194', 602)" onmouseover="showTip(event, 'fs194', 602)" class="fn">w&#39;</span><span class="pn">)</span>

    <span onmouseout="hideTip(event, 'fs192', 603)" onmouseover="showTip(event, 'fs192', 603)" class="fn">h</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs190', 604)" onmouseover="showTip(event, 'fs190', 604)" class="id">Multiply</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs194', 605)" onmouseover="showTip(event, 'fs194', 605)" class="fn">w&#39;</span><span class="pn">)</span><span class="pn">.</span><span class="id">Multiply</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs195', 606)" onmouseover="showTip(event, 'fs195', 606)" class="fn">ww&#39;</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs196', 607)" onmouseover="showTip(event, 'fs196', 607)" class="id">Inverse</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs197', 608)" onmouseover="showTip(event, 'fs197', 608)" class="m">Matrix</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs198', 609)" onmouseover="showTip(event, 'fs198', 609)" class="id">toColArrays</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 610)" onmouseover="showTip(event, 'fs81', 610)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 611)" onmouseover="showTip(event, 'fs100', 611)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs199', 612)" onmouseover="showTip(event, 'fs199', 612)" class="fn">col</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs199', 613)" onmouseover="showTip(event, 'fs199', 613)" class="fn">col</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 614)" onmouseover="showTip(event, 'fs81', 614)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 615)" onmouseover="showTip(event, 'fs100', 615)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs183', 616)" onmouseover="showTip(event, 'fs183', 616)" class="fn">xs</span> <span class="k">-&gt;</span> <span class="k">if</span> <span onmouseout="hideTip(event, 'fs183', 617)" onmouseover="showTip(event, 'fs183', 617)" class="fn">xs</span> <span class="o">&lt;</span> <span class="n">0.</span> <span class="k">then</span> <span class="n">0.</span> <span class="k">else</span> <span onmouseout="hideTip(event, 'fs183', 618)" onmouseover="showTip(event, 'fs183', 618)" class="fn">xs</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs200', 619)" onmouseover="showTip(event, 'fs200', 619)" class="fn">onlyPositiveVals</span> <span class="k">-&gt;</span> 
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs201', 620)" onmouseover="showTip(event, 'fs201', 620)" class="fn">norm</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs81', 621)" onmouseover="showTip(event, 'fs81', 621)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs182', 622)" onmouseover="showTip(event, 'fs182', 622)" class="id">sum</span> <span onmouseout="hideTip(event, 'fs200', 623)" onmouseover="showTip(event, 'fs200', 623)" class="fn">onlyPositiveVals</span>
            <span onmouseout="hideTip(event, 'fs200', 624)" onmouseover="showTip(event, 'fs200', 624)" class="fn">onlyPositiveVals</span> 
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 625)" onmouseover="showTip(event, 'fs81', 625)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 626)" onmouseover="showTip(event, 'fs100', 626)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs138', 627)" onmouseover="showTip(event, 'fs138', 627)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs138', 628)" onmouseover="showTip(event, 'fs138', 628)" class="fn">xs</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs201', 629)" onmouseover="showTip(event, 'fs201', 629)" class="fn">norm</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs171', 630)" onmouseover="showTip(event, 'fs171', 630)" class="fn">matrix</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs202', 631)" onmouseover="showTip(event, 'fs202', 631)" class="fn">m</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs202', 632)" onmouseover="showTip(event, 'fs202', 632)" class="fn">m</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs203', 633)" onmouseover="showTip(event, 'fs203', 633)" class="id">Transpose</span><span class="pn">(</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs191', 634)" onmouseover="showTip(event, 'fs191', 634)" class="id">bigO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs175', 635)" onmouseover="showTip(event, 'fs175', 635)" class="id">RowCount</span>
<span onmouseout="hideTip(event, 'fs191', 636)" onmouseover="showTip(event, 'fs191', 636)" class="id">bigO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs176', 637)" onmouseover="showTip(event, 'fs176', 637)" class="id">ColumnCount</span>
</code></pre>
<h2><a name="3-Scoring-New-Articles" class="anchor" href="#3-Scoring-New-Articles">3. Scoring New Articles</a></h2>
<p>Estimating <span class="math">\(p\)</span> (sentiment score) for new articles using maximum likelihood estimation:</p>
<p><span class="math">\[\widehat{p} = \arg\max_{p\in[\,0, 1]\,} \left\{\hat{s}^{-1} \sum_{j \in \widehat{S}}{d_{j}\log \left(p \widehat{O}_{+, j} + (\,1-p)\,\widehat{O}_{-, j}\right) + \lambda \log \left(p\left(1 - p \right)\right) \right\}\]</span></p>
<p><span class="math">\(\hat{s}\text{ is the total count of words from } \widehat{S} \text{ in the new article,} \left(d_{j}, \widehat{O}_{+, j},  \widehat{O}_{-, j} \right) \text{ are the } j \text{th entries of the corresponding vectors, and } \lamda\)</span></p>
<p>For sentiment charged words, their corresponding entries in <span class="math">\(O\)</span> should be different. Otherwise, these words would not represent any sentiment and should be left out of the set of sentiment charged words. Sentiment neutral words are analogous to useless predictors in a linear model.</p>
<p>Optimization</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs204', 638)" onmouseover="showTip(event, 'fs204', 638)" class="id">bigOArr</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs191', 639)" onmouseover="showTip(event, 'fs191', 639)" class="id">bigO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs205', 640)" onmouseover="showTip(event, 'fs205', 640)" class="id">ToRowArrays</span><span class="pn">(</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs206', 641)" onmouseover="showTip(event, 'fs206', 641)" class="fn">objF</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs157', 642)" onmouseover="showTip(event, 'fs157', 642)" class="fn">call</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs158', 643)" onmouseover="showTip(event, 'fs158', 643)" class="rt">Call</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs207', 644)" onmouseover="showTip(event, 'fs207', 644)" class="fn">p</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs21', 645)" onmouseover="showTip(event, 'fs21', 645)" class="vt">float</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs208', 646)" onmouseover="showTip(event, 'fs208', 646)" class="fn">lambda</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs21', 647)" onmouseover="showTip(event, 'fs21', 647)" class="vt">float</span><span class="pn">)</span> <span class="o">=</span> 

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs209', 648)" onmouseover="showTip(event, 'fs209', 648)" class="fn">filteredCall</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs156', 649)" onmouseover="showTip(event, 'fs156', 649)" class="fn">filterCall</span> <span onmouseout="hideTip(event, 'fs157', 650)" onmouseover="showTip(event, 'fs157', 650)" class="fn">call</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs210', 651)" onmouseover="showTip(event, 'fs210', 651)" class="fn">sHat</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs209', 652)" onmouseover="showTip(event, 'fs209', 652)" class="fn">filteredCall</span>
        <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 653)" onmouseover="showTip(event, 'fs87', 653)" class="fn">xs</span> <span class="k">-&gt;</span> 
            <span onmouseout="hideTip(event, 'fs87', 654)" onmouseover="showTip(event, 'fs87', 654)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs92', 655)" onmouseover="showTip(event, 'fs92', 655)" class="id">WordCount</span> 
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 656)" onmouseover="showTip(event, 'fs81', 656)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs166', 657)" onmouseover="showTip(event, 'fs166', 657)" class="id">sumBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs93', 658)" onmouseover="showTip(event, 'fs93', 658)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs93', 659)" onmouseover="showTip(event, 'fs93', 659)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 660)" onmouseover="showTip(event, 'fs53', 660)" class="id">Count</span><span class="pn">)</span> 
            <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs167', 661)" onmouseover="showTip(event, 'fs167', 661)" class="fn">xs</span> <span class="k">-&gt;</span> <span class="pn">(</span><span class="n">1.</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs21', 662)" onmouseover="showTip(event, 'fs21', 662)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs167', 663)" onmouseover="showTip(event, 'fs167', 663)" class="fn">xs</span><span class="pn">)</span>

    <span onmouseout="hideTip(event, 'fs209', 664)" onmouseover="showTip(event, 'fs209', 664)" class="fn">filteredCall</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs92', 665)" onmouseover="showTip(event, 'fs92', 665)" class="id">WordCount</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 666)" onmouseover="showTip(event, 'fs81', 666)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs186', 667)" onmouseover="showTip(event, 'fs186', 667)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs187', 668)" onmouseover="showTip(event, 'fs187', 668)" class="fn">i</span> <span onmouseout="hideTip(event, 'fs93', 669)" onmouseover="showTip(event, 'fs93', 669)" class="fn">xs</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs211', 670)" onmouseover="showTip(event, 'fs211', 670)" class="fn">pos</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs207', 671)" onmouseover="showTip(event, 'fs207', 671)" class="fn">p</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs204', 672)" onmouseover="showTip(event, 'fs204', 672)" class="id">bigOArr</span><span class="id">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs187', 673)" onmouseover="showTip(event, 'fs187', 673)" class="fn">i</span><span class="pn">]</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs212', 674)" onmouseover="showTip(event, 'fs212', 674)" class="fn">neg</span> <span class="o">=</span> <span class="pn">(</span><span class="n">1.</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs207', 675)" onmouseover="showTip(event, 'fs207', 675)" class="fn">p</span><span class="pn">)</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs204', 676)" onmouseover="showTip(event, 'fs204', 676)" class="id">bigOArr</span><span class="id">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs187', 677)" onmouseover="showTip(event, 'fs187', 677)" class="fn">i</span><span class="pn">]</span><span class="id">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs213', 678)" onmouseover="showTip(event, 'fs213', 678)" class="fn">d</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 679)" onmouseover="showTip(event, 'fs21', 679)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs93', 680)" onmouseover="showTip(event, 'fs93', 680)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 681)" onmouseover="showTip(event, 'fs53', 681)" class="id">Count</span>
        <span onmouseout="hideTip(event, 'fs213', 682)" onmouseover="showTip(event, 'fs213', 682)" class="fn">d</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs214', 683)" onmouseover="showTip(event, 'fs214', 683)" class="fn">log</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs211', 684)" onmouseover="showTip(event, 'fs211', 684)" class="fn">pos</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs212', 685)" onmouseover="showTip(event, 'fs212', 685)" class="fn">neg</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs215', 686)" onmouseover="showTip(event, 'fs215', 686)" class="fn">expr</span> <span class="k">-&gt;</span>
        <span class="pn">(</span><span onmouseout="hideTip(event, 'fs210', 687)" onmouseover="showTip(event, 'fs210', 687)" class="fn">sHat</span> <span class="o">*</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs81', 688)" onmouseover="showTip(event, 'fs81', 688)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs182', 689)" onmouseover="showTip(event, 'fs182', 689)" class="id">sum</span> <span onmouseout="hideTip(event, 'fs215', 690)" onmouseover="showTip(event, 'fs215', 690)" class="fn">expr</span><span class="pn">)</span><span class="pn">)</span>
        
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs216', 691)" onmouseover="showTip(event, 'fs216', 691)" class="fn">computeScore</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs157', 692)" onmouseover="showTip(event, 'fs157', 692)" class="fn">call</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs158', 693)" onmouseover="showTip(event, 'fs158', 693)" class="rt">Call</span><span class="pn">)</span> <span class="o">=</span> 
    <span class="pn">[|</span><span class="o">0.</span> <span class="o">..</span> <span class="n">0.01</span> <span class="o">..</span> <span class="n">1.</span><span class="pn">|]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 694)" onmouseover="showTip(event, 'fs81', 694)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 695)" onmouseover="showTip(event, 'fs100', 695)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs217', 696)" onmouseover="showTip(event, 'fs217', 696)" class="fn">scoreP</span> <span class="k">-&gt;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs217', 697)" onmouseover="showTip(event, 'fs217', 697)" class="fn">scoreP</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs157', 698)" onmouseover="showTip(event, 'fs157', 698)" class="fn">call</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 699)" onmouseover="showTip(event, 'fs59', 699)" class="id">Signal</span><span class="pn">)</span><span class="pn">,</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs206', 700)" onmouseover="showTip(event, 'fs206', 700)" class="fn">objF</span> <span onmouseout="hideTip(event, 'fs157', 701)" onmouseover="showTip(event, 'fs157', 701)" class="fn">call</span> <span onmouseout="hideTip(event, 'fs217', 702)" onmouseover="showTip(event, 'fs217', 702)" class="fn">scoreP</span> <span class="n">0.00001</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 703)" onmouseover="showTip(event, 'fs81', 703)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs218', 704)" onmouseover="showTip(event, 'fs218', 704)" class="id">maxBy</span> <span onmouseout="hideTip(event, 'fs72', 705)" onmouseover="showTip(event, 'fs72', 705)" class="fn">snd</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs219', 706)" onmouseover="showTip(event, 'fs219', 706)" class="id">testHighSignals</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs80', 707)" onmouseover="showTip(event, 'fs80', 707)" class="id">testCalls</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 708)" onmouseover="showTip(event, 'fs81', 708)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs220', 709)" onmouseover="showTip(event, 'fs220', 709)" class="id">take</span> <span class="n">100</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 710)" onmouseover="showTip(event, 'fs81', 710)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 711)" onmouseover="showTip(event, 'fs100', 711)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 712)" onmouseover="showTip(event, 'fs87', 712)" class="fn">xs</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs221', 713)" onmouseover="showTip(event, 'fs221', 713)" class="fn">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs216', 714)" onmouseover="showTip(event, 'fs216', 714)" class="fn">computeScore</span> <span onmouseout="hideTip(event, 'fs87', 715)" onmouseover="showTip(event, 'fs87', 715)" class="fn">xs</span>
        <span onmouseout="hideTip(event, 'fs221', 716)" onmouseover="showTip(event, 'fs221', 716)" class="fn">res</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 717)" onmouseover="showTip(event, 'fs81', 717)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs163', 718)" onmouseover="showTip(event, 'fs163', 718)" class="id">sortBy</span> <span onmouseout="hideTip(event, 'fs72', 719)" onmouseover="showTip(event, 'fs72', 719)" class="fn">snd</span>


<span class="k">let</span> <span onmouseout="hideTip(event, 'fs222', 720)" onmouseover="showTip(event, 'fs222', 720)" class="id">testLowSignals</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs80', 721)" onmouseover="showTip(event, 'fs80', 721)" class="id">testCalls</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 722)" onmouseover="showTip(event, 'fs81', 722)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs163', 723)" onmouseover="showTip(event, 'fs163', 723)" class="id">sortBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 724)" onmouseover="showTip(event, 'fs87', 724)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs87', 725)" onmouseover="showTip(event, 'fs87', 725)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 726)" onmouseover="showTip(event, 'fs59', 726)" class="id">Signal</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 727)" onmouseover="showTip(event, 'fs81', 727)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs220', 728)" onmouseover="showTip(event, 'fs220', 728)" class="id">take</span> <span class="n">500</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 729)" onmouseover="showTip(event, 'fs81', 729)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs223', 730)" onmouseover="showTip(event, 'fs223', 730)" class="id">averageBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 731)" onmouseover="showTip(event, 'fs87', 731)" class="fn">xs</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs224', 732)" onmouseover="showTip(event, 'fs224', 732)" class="fn">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs216', 733)" onmouseover="showTip(event, 'fs216', 733)" class="fn">computeScore</span> <span onmouseout="hideTip(event, 'fs87', 734)" onmouseover="showTip(event, 'fs87', 734)" class="fn">xs</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs71', 735)" onmouseover="showTip(event, 'fs71', 735)" class="fn">fst</span>
        <span onmouseout="hideTip(event, 'fs224', 736)" onmouseover="showTip(event, 'fs224', 736)" class="fn">res</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs71', 737)" onmouseover="showTip(event, 'fs71', 737)" class="fn">fst</span><span class="pn">)</span>
</code></pre>
<p>DiffSharp demo</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;nuget: DiffSharp-lite, 1.0.0-preview-987646120&quot;</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs225', 738)" onmouseover="showTip(event, 'fs225', 738)" class="id">DiffSharp</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs225', 739)" onmouseover="showTip(event, 'fs225', 739)" class="id">DiffSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs226', 740)" onmouseover="showTip(event, 'fs226', 740)" class="id">Optim</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs227', 741)" onmouseover="showTip(event, 'fs227', 741)" class="fn">computeScore&#39;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs157', 742)" onmouseover="showTip(event, 'fs157', 742)" class="fn">call</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs158', 743)" onmouseover="showTip(event, 'fs158', 743)" class="rt">Call</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs228', 744)" onmouseover="showTip(event, 'fs228', 744)" class="fn">x</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs229', 745)" onmouseover="showTip(event, 'fs229', 745)" class="rt">Tensor</span><span class="pn">)</span> <span class="o">=</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs209', 746)" onmouseover="showTip(event, 'fs209', 746)" class="fn">filteredCall</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs156', 747)" onmouseover="showTip(event, 'fs156', 747)" class="fn">filterCall</span> <span onmouseout="hideTip(event, 'fs157', 748)" onmouseover="showTip(event, 'fs157', 748)" class="fn">call</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs210', 749)" onmouseover="showTip(event, 'fs210', 749)" class="fn">sHat</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs209', 750)" onmouseover="showTip(event, 'fs209', 750)" class="fn">filteredCall</span>
        <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 751)" onmouseover="showTip(event, 'fs87', 751)" class="fn">xs</span> <span class="k">-&gt;</span> 
            <span onmouseout="hideTip(event, 'fs87', 752)" onmouseover="showTip(event, 'fs87', 752)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs92', 753)" onmouseover="showTip(event, 'fs92', 753)" class="id">WordCount</span> 
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 754)" onmouseover="showTip(event, 'fs81', 754)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs166', 755)" onmouseover="showTip(event, 'fs166', 755)" class="id">sumBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs93', 756)" onmouseover="showTip(event, 'fs93', 756)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs93', 757)" onmouseover="showTip(event, 'fs93', 757)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 758)" onmouseover="showTip(event, 'fs53', 758)" class="id">Count</span><span class="pn">)</span> 
            <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs167', 759)" onmouseover="showTip(event, 'fs167', 759)" class="fn">xs</span> <span class="k">-&gt;</span> <span class="pn">(</span><span class="n">1.</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs21', 760)" onmouseover="showTip(event, 'fs21', 760)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs167', 761)" onmouseover="showTip(event, 'fs167', 761)" class="fn">xs</span><span class="pn">)</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs230', 762)" onmouseover="showTip(event, 'fs230', 762)" class="fn">scoreP</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs228', 763)" onmouseover="showTip(event, 'fs228', 763)" class="fn">x</span><span class="pn">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span>

    <span onmouseout="hideTip(event, 'fs209', 764)" onmouseover="showTip(event, 'fs209', 764)" class="fn">filteredCall</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs92', 765)" onmouseover="showTip(event, 'fs92', 765)" class="id">WordCount</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 766)" onmouseover="showTip(event, 'fs81', 766)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs186', 767)" onmouseover="showTip(event, 'fs186', 767)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs187', 768)" onmouseover="showTip(event, 'fs187', 768)" class="fn">i</span> <span onmouseout="hideTip(event, 'fs93', 769)" onmouseover="showTip(event, 'fs93', 769)" class="fn">xs</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs231', 770)" onmouseover="showTip(event, 'fs231', 770)" class="fn">pos</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs230', 771)" onmouseover="showTip(event, 'fs230', 771)" class="fn">scoreP</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs204', 772)" onmouseover="showTip(event, 'fs204', 772)" class="id">bigOArr</span><span class="id">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs187', 773)" onmouseover="showTip(event, 'fs187', 773)" class="fn">i</span><span class="pn">]</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs232', 774)" onmouseover="showTip(event, 'fs232', 774)" class="fn">neg</span> <span class="o">=</span> <span class="pn">(</span><span class="n">1.</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs230', 775)" onmouseover="showTip(event, 'fs230', 775)" class="fn">scoreP</span><span class="pn">)</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs204', 776)" onmouseover="showTip(event, 'fs204', 776)" class="id">bigOArr</span><span class="id">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs187', 777)" onmouseover="showTip(event, 'fs187', 777)" class="fn">i</span><span class="pn">]</span><span class="id">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs213', 778)" onmouseover="showTip(event, 'fs213', 778)" class="fn">d</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 779)" onmouseover="showTip(event, 'fs21', 779)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs93', 780)" onmouseover="showTip(event, 'fs93', 780)" class="fn">xs</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 781)" onmouseover="showTip(event, 'fs53', 781)" class="id">Count</span>
        <span onmouseout="hideTip(event, 'fs213', 782)" onmouseover="showTip(event, 'fs213', 782)" class="fn">d</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs214', 783)" onmouseover="showTip(event, 'fs214', 783)" class="fn">log</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs231', 784)" onmouseover="showTip(event, 'fs231', 784)" class="fn">pos</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs232', 785)" onmouseover="showTip(event, 'fs232', 785)" class="fn">neg</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs81', 786)" onmouseover="showTip(event, 'fs81', 786)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs182', 787)" onmouseover="showTip(event, 'fs182', 787)" class="id">sum</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs233', 788)" onmouseover="showTip(event, 'fs233', 788)" class="fn">sumExpr</span> <span class="k">-&gt;</span> 
        <span class="pn">(</span><span onmouseout="hideTip(event, 'fs210', 789)" onmouseover="showTip(event, 'fs210', 789)" class="fn">sHat</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs233', 790)" onmouseover="showTip(event, 'fs233', 790)" class="fn">sumExpr</span><span class="pn">)</span> <span class="o">+</span> <span class="pn">(</span><span class="n">0.001</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs214', 791)" onmouseover="showTip(event, 'fs214', 791)" class="fn">log</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs230', 792)" onmouseover="showTip(event, 'fs230', 792)" class="fn">scoreP</span> <span class="o">*</span> <span class="pn">(</span><span class="n">1.</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs230', 793)" onmouseover="showTip(event, 'fs230', 793)" class="fn">scoreP</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs234', 794)" onmouseover="showTip(event, 'fs234', 794)" class="fn">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs234', 795)" onmouseover="showTip(event, 'fs234', 795)" class="fn">xs</span> <span class="o">*</span> <span class="o">-</span><span class="n">1.</span>
    
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs235', 796)" onmouseover="showTip(event, 'fs235', 796)" class="id">lr</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs236', 797)" onmouseover="showTip(event, 'fs236', 797)" class="id">momentum</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs237', 798)" onmouseover="showTip(event, 'fs237', 798)" class="id">iters</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs238', 799)" onmouseover="showTip(event, 'fs238', 799)" class="id">threshold</span> <span class="o">=</span> <span class="n">1e-3</span><span class="pn">,</span> <span class="n">0.5</span><span class="pn">,</span> <span class="n">1000</span><span class="pn">,</span> <span class="n">1e-3</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs239', 800)" onmouseover="showTip(event, 'fs239', 800)" class="fn">scoreFun</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs227', 801)" onmouseover="showTip(event, 'fs227', 801)" class="fn">computeScore&#39;</span> <span class="id">negativeArticleTrain</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs240', 802)" onmouseover="showTip(event, 'fs240', 802)" class="id">scorePGuess</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs241', 803)" onmouseover="showTip(event, 'fs241', 803)" class="rt">dsharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs242', 804)" onmouseover="showTip(event, 'fs242', 804)" class="id">tensor</span><span class="pn">(</span><span class="pn">[</span><span class="n">0.5</span><span class="pn">]</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs243', 805)" onmouseover="showTip(event, 'fs243', 805)" class="id">scoreFx</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs244', 806)" onmouseover="showTip(event, 'fs244', 806)" class="id">params&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs245', 807)" onmouseover="showTip(event, 'fs245', 807)" class="rt">optim</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs246', 808)" onmouseover="showTip(event, 'fs246', 808)" class="id">sgd</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs239', 809)" onmouseover="showTip(event, 'fs239', 809)" class="fn">scoreFun</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs240', 810)" onmouseover="showTip(event, 'fs240', 810)" class="id">scorePGuess</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs235', 811)" onmouseover="showTip(event, 'fs235', 811)" class="fn">lr</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs241', 812)" onmouseover="showTip(event, 'fs241', 812)" class="rt">dsharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs242', 813)" onmouseover="showTip(event, 'fs242', 813)" class="id">tensor</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs235', 814)" onmouseover="showTip(event, 'fs235', 814)" class="id">lr</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs236', 815)" onmouseover="showTip(event, 'fs236', 815)" class="fn">momentum</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs241', 816)" onmouseover="showTip(event, 'fs241', 816)" class="rt">dsharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs242', 817)" onmouseover="showTip(event, 'fs242', 817)" class="id">tensor</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs236', 818)" onmouseover="showTip(event, 'fs236', 818)" class="id">momentum</span><span class="pn">)</span><span class="pn">,</span> <span class="fn">nesterov</span><span class="o">=</span><span class="k">true</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs237', 819)" onmouseover="showTip(event, 'fs237', 819)" class="fn">iters</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs237', 820)" onmouseover="showTip(event, 'fs237', 820)" class="id">iters</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs238', 821)" onmouseover="showTip(event, 'fs238', 821)" class="fn">threshold</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs238', 822)" onmouseover="showTip(event, 'fs238', 822)" class="id">threshold</span><span class="pn">)</span>
</code></pre>

            <div class="fsdocs-tip" id="fs1">namespace System</div>
<div class="fsdocs-tip" id="fs2">type Environment =
  static member Exit : exitCode: int -&gt; unit
  static member ExpandEnvironmentVariables : name: string -&gt; string
  static member FailFast : message: string -&gt; unit + 1 overload
  static member GetCommandLineArgs : unit -&gt; string []
  static member GetEnvironmentVariable : variable: string -&gt; string + 1 overload
  static member GetEnvironmentVariables : unit -&gt; IDictionary + 1 overload
  static member GetFolderPath : folder: SpecialFolder -&gt; string + 1 overload
  static member GetLogicalDrives : unit -&gt; string []
  static member SetEnvironmentVariable : variable: string * value: string -&gt; unit + 1 overload
  static member CommandLine : string
  ...<br /><em>&lt;summary&gt;Provides information about, and means to manipulate, the current environment and platform. This class cannot be inherited.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs3">property Environment.CurrentDirectory: string with get, set<br /><em>&lt;summary&gt;Gets or sets the fully qualified path of the current working directory.&lt;/summary&gt;<br />&lt;exception cref=&quot;T:System.ArgumentException&quot;&gt;Attempted to set to an empty string (&quot;&quot;).&lt;/exception&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Attempted to set to &lt;see langword=&quot;null&quot; /&gt;.&lt;/exception&gt;<br />&lt;exception cref=&quot;T:System.IO.IOException&quot;&gt;An I/O error occurred.&lt;/exception&gt;<br />&lt;exception cref=&quot;T:System.IO.DirectoryNotFoundException&quot;&gt;Attempted to set a local path that cannot be found.&lt;/exception&gt;<br />&lt;exception cref=&quot;T:System.Security.SecurityException&quot;&gt;The caller does not have the appropriate permission.&lt;/exception&gt;<br />&lt;returns&gt;The directory path.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs4">Multiple items<br />[&lt;Struct&gt;]
type DateTime =
  new : year: int * month: int * day: int -&gt; unit + 10 overloads
  member Add : value: TimeSpan -&gt; DateTime
  member AddDays : value: float -&gt; DateTime
  member AddHours : value: float -&gt; DateTime
  member AddMilliseconds : value: float -&gt; DateTime
  member AddMinutes : value: float -&gt; DateTime
  member AddMonths : months: int -&gt; DateTime
  member AddSeconds : value: float -&gt; DateTime
  member AddTicks : value: int64 -&gt; DateTime
  member AddYears : value: int -&gt; DateTime
  ...<br /><em>&lt;summary&gt;Represents an instant in time, typically expressed as a date and time of day.&lt;/summary&gt;</em><br /><br />--------------------<br />DateTime ()<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64, kind: DateTimeKind) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, calendar: Globalization.Calendar) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, kind: DateTimeKind) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, calendar: Globalization.Calendar) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int, kind: DateTimeKind) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="fsdocs-tip" id="fs5">namespace Newtonsoft</div>
<div class="fsdocs-tip" id="fs6">namespace Newtonsoft.Json</div>
<div class="fsdocs-tip" id="fs7">namespace Plotly</div>
<div class="fsdocs-tip" id="fs8">namespace Plotly.NET</div>
<div class="fsdocs-tip" id="fs9">namespace MathNet</div>
<div class="fsdocs-tip" id="fs10">namespace MathNet.Numerics</div>
<div class="fsdocs-tip" id="fs11">namespace MathNet.Numerics.LinearAlgebra</div>
<div class="fsdocs-tip" id="fs12">type Label =
  | Positive
  | Negative
  | Neutral</div>
<div class="fsdocs-tip" id="fs13">union case Label.Positive: Label</div>
<div class="fsdocs-tip" id="fs14">union case Label.Negative: Label</div>
<div class="fsdocs-tip" id="fs15">union case Label.Neutral: Label</div>
<div class="fsdocs-tip" id="fs16">type LabeledTranscript =
  { TickerExchange: string * string
    EarningsCall: string
    CumulativeReturn: float
    Label: Label }</div>
<div class="fsdocs-tip" id="fs17">LabeledTranscript.TickerExchange: string * string</div>
<div class="fsdocs-tip" id="fs18">Multiple items<br />val string : value:&#39;T -&gt; string<br /><em>&lt;summary&gt;Converts the argument to a string using &lt;c&gt;ToString&lt;/c&gt;.&lt;/summary&gt;<br />&lt;remarks&gt;For standard integer and floating point values the and any type that implements &lt;c&gt;IFormattable&lt;/c&gt;&lt;c&gt;ToString&lt;/c&gt; conversion uses &lt;c&gt;CultureInfo.InvariantCulture&lt;/c&gt;. &lt;/remarks&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The converted string.&lt;/returns&gt;</em><br /><br />--------------------<br />type string = String<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.String&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs19">LabeledTranscript.EarningsCall: string</div>
<div class="fsdocs-tip" id="fs20">LabeledTranscript.CumulativeReturn: float</div>
<div class="fsdocs-tip" id="fs21">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><em>&lt;summary&gt;Converts the argument to 64-bit float. This is a direct conversion for all 
 primitive numeric types. For strings, the input is converted using &lt;c&gt;Double.Parse()&lt;/c&gt;  
 with InvariantCulture settings. Otherwise the operation requires an appropriate
 static conversion method on the input type.&lt;/summary&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The converted float&lt;/returns&gt;</em><br /><br />--------------------<br />[&lt;Struct&gt;]
type float = Double<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Double&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em><br /><br />--------------------<br />type float&lt;&#39;Measure&gt; =
  float<br /><em>&lt;summary&gt;The type of double-precision floating point numbers, annotated with a unit of measure. 
 The unit of measure is erased in compiled code and when values of this type
 are analyzed using reflection. The type is representationally equivalent to 
 &lt;see cref=&quot;T:System.Double&quot; /&gt;.&lt;/summary&gt;<br />&lt;category index=&quot;6&quot;&gt;Basic Types with Units of Measure&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs22">Multiple items<br />LabeledTranscript.Label: Label<br /><br />--------------------<br />type Label =
  | Positive
  | Negative
  | Neutral</div>
<div class="fsdocs-tip" id="fs23">val readJson : jsonFile:string -&gt; LabeledTranscript array</div>
<div class="fsdocs-tip" id="fs24">val jsonFile : string</div>
<div class="fsdocs-tip" id="fs25">namespace System.IO</div>
<div class="fsdocs-tip" id="fs26">type File =
  static member AppendAllLines : path: string * contents: IEnumerable&lt;string&gt; -&gt; unit + 1 overload
  static member AppendAllLinesAsync : path: string * contents: IEnumerable&lt;string&gt; * encoding: Encoding *?cancellationToken: CancellationToken -&gt; Task + 1 overload
  static member AppendAllText : path: string * contents: string -&gt; unit + 1 overload
  static member AppendAllTextAsync : path: string * contents: string * encoding: Encoding *?cancellationToken: CancellationToken -&gt; Task + 1 overload
  static member AppendText : path: string -&gt; StreamWriter
  static member Copy : sourceFileName: string * destFileName: string -&gt; unit + 1 overload
  static member Create : path: string -&gt; FileStream + 2 overloads
  static member CreateText : path: string -&gt; StreamWriter
  static member Decrypt : path: string -&gt; unit
  static member Delete : path: string -&gt; unit
  ...<br /><em>&lt;summary&gt;Provides static methods for the creation, copying, deletion, moving, and opening of a single file, and aids in the creation of &lt;see cref=&quot;T:System.IO.FileStream&quot; /&gt; objects.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs27">IO.File.ReadAllText(path: string) : string<br />IO.File.ReadAllText(path: string, encoding: Text.Encoding) : string</div>
<div class="fsdocs-tip" id="fs28">val json : string</div>
<div class="fsdocs-tip" id="fs29">type JsonConvert =
  static member DeserializeAnonymousType&lt;&#39;T&gt; : value: string * anonymousTypeObject: &#39;T -&gt; &#39;T + 1 overload
  static member DeserializeObject : value: string -&gt; obj + 7 overloads
  static member DeserializeXNode : value: string -&gt; XDocument + 3 overloads
  static member DeserializeXmlNode : value: string -&gt; XmlDocument + 3 overloads
  static member EnsureDecimalPlace : value: float * text: string -&gt; string + 1 overload
  static member EnsureFloatFormat : value: float * text: string * floatFormatHandling: FloatFormatHandling * quoteChar: char * nullable: bool -&gt; string
  static member PopulateObject : value: string * target: obj -&gt; unit + 1 overload
  static member SerializeObject : value: obj -&gt; string + 7 overloads
  static member SerializeObjectInternal : value: obj * type: Type * jsonSerializer: JsonSerializer -&gt; string
  static member SerializeXNode : node: XObject -&gt; string + 2 overloads
  ...<br /><em>&lt;summary&gt;
            Provides methods for converting between .NET types and JSON types.
            &lt;/summary&gt;<br />&lt;example&gt;&lt;code lang=&quot;cs&quot; source=&quot;..\Src\Newtonsoft.Json.Tests\Documentation\SerializationTests.cs&quot; region=&quot;SerializeObject&quot; title=&quot;Serializing and Deserializing JSON with JsonConvert&quot; /&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs30">JsonConvert.DeserializeObject&lt;&#39;T&gt;(value: string) : &#39;T<br />JsonConvert.DeserializeObject(value: string) : obj<br />JsonConvert.DeserializeObject&lt;&#39;T&gt;(value: string, settings: JsonSerializerSettings) : &#39;T<br />JsonConvert.DeserializeObject&lt;&#39;T&gt;(value: string, [&lt;ParamArray&gt;] converters: JsonConverter []) : &#39;T<br />JsonConvert.DeserializeObject(value: string, type: Type) : obj<br />JsonConvert.DeserializeObject(value: string, settings: JsonSerializerSettings) : obj<br />JsonConvert.DeserializeObject(value: string, type: Type, settings: JsonSerializerSettings) : obj<br />JsonConvert.DeserializeObject(value: string, type: Type, [&lt;ParamArray&gt;] converters: JsonConverter []) : obj</div>
<div class="fsdocs-tip" id="fs31">type &#39;T array = &#39;T []<br /><em>&lt;summary&gt;Single dimensional, zero-based arrays, written &lt;c&gt;int[]&lt;/c&gt;, &lt;c&gt;string[]&lt;/c&gt; etc.&lt;/summary&gt;<br />&lt;remarks&gt;Use the values in the &lt;see cref=&quot;T:Microsoft.FSharp.Collections.ArrayModule&quot; /&gt; module to manipulate values 
 of this type, or the notation &lt;c&gt;arr.[x]&lt;/c&gt; to get/set array
 values.&lt;/remarks&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs32">val train : LabeledTranscript []</div>
<div class="fsdocs-tip" id="fs33">val test : LabeledTranscript []</div>
<div class="fsdocs-tip" id="fs34">val rnd : Random</div>
<div class="fsdocs-tip" id="fs35">Multiple items<br />type Random =
  new : unit -&gt; unit + 1 overload
  member Next : unit -&gt; int + 2 overloads
  member NextBytes : buffer: byte [] -&gt; unit + 1 overload
  member NextDouble : unit -&gt; float
  member Sample : unit -&gt; float<br /><em>&lt;summary&gt;Represents a pseudo-random number generator, which is an algorithm that produces a sequence of numbers that meet certain statistical requirements for randomness.&lt;/summary&gt;</em><br /><br />--------------------<br />Random() : Random<br />Random(Seed: int) : Random</div>
<div class="fsdocs-tip" id="fs36">Multiple items<br />module Seq

from Plotly.NET<br /><br />--------------------<br />module Seq

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.seq`1&quot; /&gt;.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs37">val sortBy : projection:(&#39;T -&gt; &#39;Key) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires comparison)<br /><em>&lt;summary&gt;Applies a key-generating function to each element of a sequence and yield a sequence ordered
 by keys.  The keys are compared using generic comparison as implemented by &lt;see cref=&quot;M:Microsoft.FSharp.Core.Operators.compare&quot; /&gt;.&lt;/summary&gt;<br />&lt;remarks&gt;This function returns a sequence that digests the whole initial sequence as soon as 
 that sequence is iterated. As a result this function should not be used with 
 large or infinite sequences. 

 The function makes no assumption on the ordering of the original 
 sequence and uses a stable sort, that is the original order of equal elements is preserved.&lt;/remarks&gt;<br />&lt;param name=&quot;projection&quot;&gt;A function to transform items of the input sequence into comparable keys.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs38">Random.Next() : int<br />Random.Next(maxValue: int) : int<br />Random.Next(minValue: int, maxValue: int) : int</div>
<div class="fsdocs-tip" id="fs39">val toArray : source:seq&lt;&#39;T&gt; -&gt; &#39;T []<br /><em>&lt;summary&gt;Builds an array from the given collection.&lt;/summary&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result array.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs40">val xs : LabeledTranscript []</div>
<div class="fsdocs-tip" id="fs41">val cutoff : float</div>
<div class="fsdocs-tip" id="fs42">property Array.Length: int with get<br /><em>&lt;summary&gt;Gets the total number of elements in all the dimensions of the &lt;see cref=&quot;T:System.Array&quot; /&gt;.&lt;/summary&gt;<br />&lt;exception cref=&quot;T:System.OverflowException&quot;&gt;The array is multidimensional and contains more than &lt;see cref=&quot;F:System.Int32.MaxValue&quot; /&gt; elements.&lt;/exception&gt;<br />&lt;returns&gt;The total number of elements in all the dimensions of the &lt;see cref=&quot;T:System.Array&quot; /&gt;; zero if there are no elements in the array.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs43">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><em>&lt;summary&gt;Converts the argument to signed 32-bit integer. This is a direct conversion for all 
 primitive numeric types. For strings, the input is converted using &lt;c&gt;Int32.Parse()&lt;/c&gt;  
 with InvariantCulture settings. Otherwise the operation requires an appropriate
 static conversion method on the input type.&lt;/summary&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The converted int&lt;/returns&gt;</em><br /><br />--------------------<br />[&lt;Struct&gt;]
type int = int32<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Int32&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em><br /><br />--------------------<br />type int&lt;&#39;Measure&gt; =
  int<br /><em>&lt;summary&gt;The type of 32-bit signed integer numbers, annotated with a unit of measure. The unit
 of measure is erased in compiled code and when values of this type
 are analyzed using reflection. The type is representationally equivalent to 
 &lt;see cref=&quot;T:System.Int32&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types with Units of Measure&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs44">namespace Preprocessing</div>
<div class="fsdocs-tip" id="fs45">module Normalization

from Preprocessing</div>
<div class="fsdocs-tip" id="fs46">module Tokenization

from Preprocessing</div>
<div class="fsdocs-tip" id="fs47">module NltkData

from Preprocessing</div>
<div class="fsdocs-tip" id="fs48">type CallId =
  { Ticker: string
    Exchange: string }</div>
<div class="fsdocs-tip" id="fs49">CallId.Ticker: string</div>
<div class="fsdocs-tip" id="fs50">CallId.Exchange: string</div>
<div class="fsdocs-tip" id="fs51">type WordCount =
  { Word: string
    Count: int }</div>
<div class="fsdocs-tip" id="fs52">WordCount.Word: string</div>
<div class="fsdocs-tip" id="fs53">WordCount.Count: int</div>
<div class="fsdocs-tip" id="fs54">type Sentiment =
  | Positive
  | Negative</div>
<div class="fsdocs-tip" id="fs55">union case Sentiment.Positive: Sentiment</div>
<div class="fsdocs-tip" id="fs56">union case Sentiment.Negative: Sentiment</div>
<div class="fsdocs-tip" id="fs57">Multiple items<br />Call.CallId: CallId<br /><br />--------------------<br />type CallId =
  { Ticker: string
    Exchange: string }</div>
<div class="fsdocs-tip" id="fs58">Multiple items<br />Call.WordCount: WordCount []<br /><br />--------------------<br />type WordCount =
  { Word: string
    Count: int }</div>
<div class="fsdocs-tip" id="fs59">Call.Signal: float</div>
<div class="fsdocs-tip" id="fs60">val this : Call</div>
<div class="fsdocs-tip" id="fs61">val preprocessText : text:string -&gt; seq&lt;string&gt;</div>
<div class="fsdocs-tip" id="fs62">val text : string</div>
<div class="fsdocs-tip" id="fs63">val getOnlyWords : text:string -&gt; string<br /><em>&#160;Check for *only* words (Regex)       </em></div>
<div class="fsdocs-tip" id="fs64">val expandContractions : textItem:string -&gt; string</div>
<div class="fsdocs-tip" id="fs65">val nGrams : n:int -&gt; text:string -&gt; string []<br /><em>&#160;NGrams Tokenizer </em></div>
<div class="fsdocs-tip" id="fs66">val choose : chooser:(&#39;T -&gt; &#39;U option) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><em>&lt;summary&gt;Applies the given function to each element of the list. Return
 the list comprised of the results &quot;x&quot; for each element where
 the function returns Some(x).&lt;/summary&gt;<br />&lt;remarks&gt;The returned sequence may be passed between threads safely. However, 
 individual IEnumerator values generated from the returned sequence should not
 be accessed concurrently.&lt;/remarks&gt;<br />&lt;param name=&quot;chooser&quot;&gt;A function to transform items of type T into options of type U.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence of type T.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs67">val removeStopWords : textItem:string -&gt; string option</div>
<div class="fsdocs-tip" id="fs68">val generateCall : xs:LabeledTranscript -&gt; Call</div>
<div class="fsdocs-tip" id="fs69">val xs : LabeledTranscript</div>
<div class="fsdocs-tip" id="fs70">val callId : CallId</div>
<div class="fsdocs-tip" id="fs71">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1<br /><em>&lt;summary&gt;Return the first element of a tuple, &lt;c&gt;fst (a,b) = a&lt;/c&gt;.&lt;/summary&gt;<br />&lt;param name=&quot;tuple&quot;&gt;The input tuple.&lt;/param&gt;<br />&lt;returns&gt;The first value.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs72">val snd : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T2<br /><em>&lt;summary&gt;Return the second element of a tuple, &lt;c&gt;snd (a,b) = b&lt;/c&gt;.&lt;/summary&gt;<br />&lt;param name=&quot;tuple&quot;&gt;The input tuple.&lt;/param&gt;<br />&lt;returns&gt;The second value.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs73">val wordCount : WordCount []</div>
<div class="fsdocs-tip" id="fs74">val countBy : projection:(&#39;T -&gt; &#39;Key) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;Key * int&gt; (requires equality)<br /><em>&lt;summary&gt;Applies a key-generating function to each element of a sequence and returns a sequence yielding unique
 keys and their number of occurrences in the original sequence.&lt;/summary&gt;<br />&lt;remarks&gt;Note that this function returns a sequence that digests the whole initial sequence as soon as 
 that sequence is iterated. As a result this function should not be used with 
 large or infinite sequences. The function makes no assumption on the ordering of the original 
 sequence.&lt;/remarks&gt;<br />&lt;param name=&quot;projection&quot;&gt;A function transforming each item of the input sequence into a key to be
 compared against the others.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs75">val id : x:&#39;T -&gt; &#39;T<br /><em>&lt;summary&gt;The identity function&lt;/summary&gt;<br />&lt;param name=&quot;x&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The same value.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs76">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><em>&lt;summary&gt;Builds a new collection whose elements are the results of applying the given function
 to each of the elements of the collection.  The given function will be applied
 as elements are demanded using the &lt;c&gt;MoveNext&lt;/c&gt; method on enumerators retrieved from the
 object.&lt;/summary&gt;<br />&lt;remarks&gt;The returned sequence may be passed between threads safely. However, 
 individual IEnumerator values generated from the returned sequence should not be accessed concurrently.&lt;/remarks&gt;<br />&lt;param name=&quot;mapping&quot;&gt;A function to transform items from the input sequence.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs77">val word : string</div>
<div class="fsdocs-tip" id="fs78">val count : int</div>
<div class="fsdocs-tip" id="fs79">val trainCalls : Call []</div>
<div class="fsdocs-tip" id="fs80">val testCalls : Call []</div>
<div class="fsdocs-tip" id="fs81">type Array =
  interface ICollection
  interface IEnumerable
  interface IList
  interface IStructuralComparable
  interface IStructuralEquatable
  interface ICloneable
  new : unit -&gt; unit
  member Clone : unit -&gt; obj
  member CopyTo : array: Array * index: int -&gt; unit + 1 overload
  member GetEnumerator : unit -&gt; IEnumerator
  ...<br /><em>&lt;summary&gt;Provides methods for creating, manipulating, searching, and sorting arrays, thereby serving as the base class for all arrays in the common language runtime.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs82">module Parallel

from Microsoft.FSharp.Collections.ArrayModule<br /><em>&lt;summary&gt;Provides parallel operations on arrays &lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs83">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []<br /><em>&lt;summary&gt;Build a new array whose elements are the results of applying the given function
 to each of the elements of the array.&lt;/summary&gt;<br />&lt;remarks&gt;Performs the operation in parallel using &lt;see cref=&quot;M:System.Threading.Tasks.Parallel.For&quot; /&gt;.
 The order in which the given function is applied to elements of the input array is not specified.&lt;/remarks&gt;<br />&lt;param name=&quot;mapping&quot;&gt;&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The array of results.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs84">val itemOccurenceByGroup : Map&lt;Sentiment,Map&lt;string,int&gt;&gt;<br /><em>&#160;Vector of item counts per Group (Flag) (Bag of words per group)</em></div>
<div class="fsdocs-tip" id="fs85">val itemFrequencyByGroup : Map&lt;Sentiment,Map&lt;string,int&gt;&gt;<br /><em>&#160;Vector of item counts per Group (Flag) (Bag of words per group)</em></div>
<div class="fsdocs-tip" id="fs86">val groupBy : projection:(&#39;T -&gt; &#39;Key) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;Key * seq&lt;&#39;T&gt;&gt; (requires equality)<br /><em>&lt;summary&gt;Applies a key-generating function to each element of a sequence and yields a sequence of 
 unique keys. Each unique key contains a sequence of all elements that match 
 to this key.&lt;/summary&gt;<br />&lt;remarks&gt;This function returns a sequence that digests the whole initial sequence as soon as 
 that sequence is iterated. As a result this function should not be used with 
 large or infinite sequences. The function makes no assumption on the ordering of the original 
 sequence.&lt;/remarks&gt;<br />&lt;param name=&quot;projection&quot;&gt;A function that transforms an element of the sequence into a comparable key.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs87">val xs : Call</div>
<div class="fsdocs-tip" id="fs88">property Call.Flag: Sentiment with get</div>
<div class="fsdocs-tip" id="fs89">val group : Sentiment</div>
<div class="fsdocs-tip" id="fs90">val callsOfGroup : seq&lt;Call&gt;</div>
<div class="fsdocs-tip" id="fs91">val collect : mapping:(&#39;T -&gt; #seq&lt;&#39;U&gt;) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><em>&lt;summary&gt;Applies the given function to each element of the sequence and concatenates all the
 results.&lt;/summary&gt;<br />&lt;remarks&gt;Remember sequence is lazy, effects are delayed until it is enumerated.&lt;/remarks&gt;<br />&lt;param name=&quot;mapping&quot;&gt;A function to transform elements of the input sequence into the sequences
 that will then be concatenated.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs92">Call.WordCount: WordCount []</div>
<div class="fsdocs-tip" id="fs93">val xs : WordCount</div>
<div class="fsdocs-tip" id="fs94">val wordId : string</div>
<div class="fsdocs-tip" id="fs95">val wordCounts : seq&lt;WordCount&gt;</div>
<div class="fsdocs-tip" id="fs96">val xs : seq&lt;WordCount&gt;</div>
<div class="fsdocs-tip" id="fs97">val length : source:seq&lt;&#39;T&gt; -&gt; int<br /><em>&lt;summary&gt;Returns the length of the sequence&lt;/summary&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The length of the sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs98">val sumBy : projection:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; &#39;U (requires member ( + ) and member get_Zero)<br /><em>&lt;summary&gt;Returns the sum of the results generated by applying the function to each element of the sequence.&lt;/summary&gt;<br />&lt;remarks&gt;The generated elements are summed using the &lt;c&gt;+&lt;/c&gt; operator and &lt;c&gt;Zero&lt;/c&gt; property associated with the generated type.&lt;/remarks&gt;<br />&lt;param name=&quot;projection&quot;&gt;A function to transform items from the input sequence into the type that will be summed.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The computed sum.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs99">val xs : ((string * int) * (string * int)) []</div>
<div class="fsdocs-tip" id="fs100">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []<br /><em>&lt;summary&gt;Builds a new array whose elements are the results of applying the given function
 to each of the elements of the array.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;The function to transform elements of the array.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The array of transformed elements.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs101">Multiple items<br />module Map

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.Map`2&quot; /&gt;.&lt;/summary&gt;</em><br /><br />--------------------<br />type Map&lt;&#39;Key,&#39;Value (requires comparison)&gt; =
  interface IReadOnlyDictionary&lt;&#39;Key,&#39;Value&gt;
  interface IReadOnlyCollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface IEnumerable
  interface IComparable
  interface IEnumerable&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface ICollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface IDictionary&lt;&#39;Key,&#39;Value&gt;
  new : elements:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  member Add : key:&#39;Key * value:&#39;Value -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  member Change : key:&#39;Key * f:(&#39;Value option -&gt; &#39;Value option) -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  ...<br /><em>&lt;summary&gt;Immutable maps based on binary trees, where keys are ordered by F# generic comparison. By default
 comparison is the F# structural comparison function or uses implementations of the IComparable interface on key values.&lt;/summary&gt;<br />&lt;remarks&gt;See the &lt;see cref=&quot;T:Microsoft.FSharp.Collections.MapModule&quot; /&gt; module for further operations on maps.

 All members of this class are thread-safe and may be used concurrently from multiple threads.&lt;/remarks&gt;</em><br /><br />--------------------<br />new : elements:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;</div>
<div class="fsdocs-tip" id="fs102">val xs : ((Sentiment * Map&lt;string,int&gt;) * (Sentiment * Map&lt;string,int&gt;)) []</div>
<div class="fsdocs-tip" id="fs103">val countOfItemInGroup : group:Sentiment -&gt; wordSentimentMap:Map&lt;Sentiment,Map&lt;string,int&gt;&gt; -&gt; item:string -&gt; int option<br /><em>&#160;Frequency/Occurence finder</em></div>
<div class="fsdocs-tip" id="fs104">val wordSentimentMap : Map&lt;Sentiment,Map&lt;string,int&gt;&gt;</div>
<div class="fsdocs-tip" id="fs105">val item : string</div>
<div class="fsdocs-tip" id="fs106">member Map.TryFind : key:&#39;Key -&gt; &#39;Value option</div>
<div class="fsdocs-tip" id="fs107">module Option

from Microsoft.FSharp.Core<br /><em>&lt;summary&gt;Contains operations for working with options.&lt;/summary&gt;<br />&lt;category&gt;Options&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs108">val bind : binder:(&#39;T -&gt; &#39;U option) -&gt; option:&#39;T option -&gt; &#39;U option<br /><em>&lt;summary&gt;&lt;c&gt;bind f inp&lt;/c&gt; evaluates to &lt;c&gt;match inp with None -&amp;gt; None | Some x -&amp;gt; f x&lt;/c&gt;&lt;/summary&gt;<br />&lt;param name=&quot;binder&quot;&gt;A function that takes the value of type T from an option and transforms it into
 an option containing a value of type U.&lt;/param&gt;<br />&lt;param name=&quot;option&quot;&gt;The input option.&lt;/param&gt;<br />&lt;example&gt;&lt;code&gt;
     let tryParse input =
         match System.Int32.TryParse input with
         | true, v -&amp;gt; Some v
         | false, _ -&amp;gt; None
     None |&amp;gt; Option.bind tryParse // evaluates to None
     Some &quot;42&quot; |&amp;gt; Option.bind tryParse // evaluates to Some 42
     Some &quot;Forty-two&quot; |&amp;gt; Option.bind tryParse // evaluates to None
 &lt;/code&gt;&lt;/example&gt;<br />&lt;returns&gt;An option of the output type of the binder.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs109">val xs : Map&lt;string,int&gt;</div>
<div class="fsdocs-tip" id="fs110">type CountType =
  | Frequency
  | Occurence</div>
<div class="fsdocs-tip" id="fs111">union case CountType.Frequency: CountType</div>
<div class="fsdocs-tip" id="fs112">union case CountType.Occurence: CountType</div>
<div class="fsdocs-tip" id="fs113">type TextItemScreening =
  { TextItem: string
    Score: float
    Count: float
    CountType: CountType }</div>
<div class="fsdocs-tip" id="fs114">TextItemScreening.TextItem: string</div>
<div class="fsdocs-tip" id="fs115">TextItemScreening.Score: float</div>
<div class="fsdocs-tip" id="fs116">TextItemScreening.Count: float</div>
<div class="fsdocs-tip" id="fs117">Multiple items<br />TextItemScreening.CountType: CountType<br /><br />--------------------<br />type CountType =
  | Frequency
  | Occurence</div>
<div class="fsdocs-tip" id="fs118">val vocabulary : string []<br /><em>&#160;Vocabulary (training set only)</em></div>
<div class="fsdocs-tip" id="fs119">val distinct : source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires equality)<br /><em>&lt;summary&gt;Returns a sequence that contains no duplicate entries according to generic hash and
 equality comparisons on the entries.
 If an element occurs multiple times in the sequence then the later occurrences are discarded.&lt;/summary&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs120">val getScores : wordSentimentMap:Map&lt;Sentiment,Map&lt;string,int&gt;&gt; -&gt; countType:CountType -&gt; Map&lt;string,TextItemScreening&gt;<br /><em>&#160;Get scores from given word sentiment map (Frequency or Occurence)</em></div>
<div class="fsdocs-tip" id="fs121">val countType : CountType</div>
<div class="fsdocs-tip" id="fs122">val getItemScore : (string -&gt; TextItemScreening option)</div>
<div class="fsdocs-tip" id="fs123">val generateItemScore : (string -&gt; float -&gt; float -&gt; TextItemScreening)</div>
<div class="fsdocs-tip" id="fs124">val score : float</div>
<div class="fsdocs-tip" id="fs125">val count : float</div>
<div class="fsdocs-tip" id="fs126">val posN : int option</div>
<div class="fsdocs-tip" id="fs127">val negN : int option</div>
<div class="fsdocs-tip" id="fs128">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The representation of &quot;Value of type &#39;T&quot;&lt;/summary&gt;<br />&lt;param name=&quot;Value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;An option representing the value.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs129">val p : int</div>
<div class="fsdocs-tip" id="fs130">val n : int</div>
<div class="fsdocs-tip" id="fs131">union case Option.None: Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The representation of &quot;No value&quot;&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs132">val choose : chooser:(&#39;T -&gt; &#39;U option) -&gt; array:&#39;T [] -&gt; &#39;U []<br /><em>&lt;summary&gt;Apply the given function to each element of the array. Return
 the array comprised of the results &quot;x&quot; for each element where
 the function returns Some(x).&lt;/summary&gt;<br />&lt;remarks&gt;Performs the operation in parallel using &lt;see cref=&quot;M:System.Threading.Tasks.Parallel.For&quot; /&gt;.
 The order in which the given function is applied to elements of the input array is not specified.&lt;/remarks&gt;<br />&lt;param name=&quot;chooser&quot;&gt;The function to generate options from the elements.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The array of results.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs133">val xs : TextItemScreening</div>
<div class="fsdocs-tip" id="fs134">val itemOccurenceScores : Map&lt;string,TextItemScreening&gt;</div>
<div class="fsdocs-tip" id="fs135">val itemFrequencyScores : Map&lt;string,TextItemScreening&gt;</div>
<div class="fsdocs-tip" id="fs136">val toArray : table:Map&lt;&#39;Key,&#39;T&gt; -&gt; (&#39;Key * &#39;T) [] (requires comparison)<br /><em>&lt;summary&gt;Returns an array of all key-value pairs in the mapping.
 The array will be ordered by the keys of the map.&lt;/summary&gt;<br />&lt;param name=&quot;table&quot;&gt;The input map.&lt;/param&gt;<br />&lt;returns&gt;The array of key/value pairs.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs137">val filter : predicate:(&#39;T -&gt; bool) -&gt; array:&#39;T [] -&gt; &#39;T []<br /><em>&lt;summary&gt;Returns a new collection containing only the elements of the collection
 for which the given predicate returns &quot;true&quot;.&lt;/summary&gt;<br />&lt;param name=&quot;predicate&quot;&gt;The function to test the input elements.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;An array containing the elements for which the given predicate returns true.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs138">val xs : float</div>
<div class="fsdocs-tip" id="fs139">type Chart =
  static member Area : x:seq&lt;#IConvertible&gt; * y:seq&lt;#IConvertible&gt; * ?Name:string * ?ShowMarkers:bool * ?Showlegend:bool * ?MarkerSymbol:Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Dash:DrawingStyle * ?Width:float -&gt; GenericChart + 1 overload
  static member Bar : keys:seq&lt;#IConvertible&gt; * values:seq&lt;#IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Color:string * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Marker:Marker -&gt; GenericChart + 1 overload
  static member BoxPlot : ?x:&#39;a0 * ?y:&#39;a1 * ?Name:string * ?Showlegend:bool * ?Color:string * ?Fillcolor:&#39;a2 * ?Opacity:float * ?Whiskerwidth:&#39;a3 * ?Boxpoints:Boxpoints * ?Boxmean:BoxMean * ?Jitter:&#39;a4 * ?Pointpos:&#39;a5 * ?Orientation:Orientation * ?Marker:Marker * ?Line:Line * ?Alignmentgroup:&#39;a6 * ?Offsetgroup:&#39;a7 * ?Notched:bool * ?NotchWidth:float * ?QuartileMethod:QuartileMethod -&gt; GenericChart + 1 overload
  static member Bubble : x:seq&lt;#IConvertible&gt; * y:seq&lt;#IConvertible&gt; * sizes:seq&lt;#IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?StackGroup:string * ?Orientation:Orientation * ?GroupNorm:GroupNorm * ?UseWebGL:bool -&gt; GenericChart + 1 overload
  static member Candlestick : open:seq&lt;#IConvertible&gt; * high:seq&lt;#IConvertible&gt; * low:seq&lt;#IConvertible&gt; * close:seq&lt;#IConvertible&gt; * x:seq&lt;#IConvertible&gt; * ?Increasing:Line * ?Decreasing:Line * ?WhiskerWidth:float * ?Line:Line * ?XCalendar:Calendar -&gt; GenericChart + 1 overload
  static member ChoroplethMap : locations:seq&lt;string&gt; * z:seq&lt;#IConvertible&gt; * ?Text:seq&lt;#IConvertible&gt; * ?Locationmode:LocationFormat * ?Autocolorscale:bool * ?Colorscale:Colorscale * ?Colorbar:Colorbar * ?Marker:Marker * ?GeoJson:&#39;a2 * ?FeatureIdKey:string * ?Zmin:float * ?Zmax:float -&gt; GenericChart
  static member ChoroplethMapbox : locations:seq&lt;#IConvertible&gt; * z:seq&lt;#IConvertible&gt; * geoJson:&#39;a2 * ?FeatureIdKey:string * ?Text:seq&lt;#IConvertible&gt; * ?Below:string * ?Colorscale:Colorscale * ?Colorbar:Colorbar * ?ZAuto:bool * ?ZMin:float * ?ZMid:float * ?ZMax:float -&gt; GenericChart
  static member Column : keys:seq&lt;#IConvertible&gt; * values:seq&lt;#IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Color:string * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Marker:Marker -&gt; GenericChart + 1 overload
  static member Contour : data:seq&lt;#seq&lt;&#39;a1&gt;&gt; * ?X:seq&lt;#IConvertible&gt; * ?Y:seq&lt;#IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Opacity:float * ?Colorscale:Colorscale * ?Showscale:&#39;a4 * ?zSmooth:SmoothAlg * ?Colorbar:&#39;a5 -&gt; GenericChart (requires &#39;a1 :&gt; IConvertible)
  static member DensityMapbox : lon:seq&lt;#IConvertible&gt; * lat:seq&lt;#IConvertible&gt; * ?Z:seq&lt;#IConvertible&gt; * ?Radius:float * ?Opacity:float * ?Text:seq&lt;#IConvertible&gt; * ?Below:string * ?Colorscale:Colorscale * ?Colorbar:Colorbar * ?Showscale:bool * ?ZAuto:bool * ?ZMin:float * ?ZMid:float * ?ZMax:float -&gt; GenericChart + 1 overload
  ...<br /><em>&lt;summary&gt;
 Provides a set of static methods for creating charts.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs140">static member Chart.Histogram : data:seq&lt;#IConvertible&gt; * ?Orientation:StyleParam.Orientation * ?Name:string * ?Showlegend:bool * ?Opacity:float * ?Color:string * ?HistNorm:StyleParam.HistNorm * ?HistFunc:StyleParam.HistNorm * ?nBinsx:int * ?nBinsy:int * ?Xbins:Bins * ?Ybins:Bins * ?xError:&#39;a1 * ?yError:&#39;a2 -&gt; GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs141">static member Chart.Show : ch:GenericChart.GenericChart -&gt; unit</div>
<div class="fsdocs-tip" id="fs142">val getChargedItems : alphaLower:float -&gt; alphaUpper:float -&gt; kappaPct:float -&gt; string []<br /><em>&#160;Sentiment-charged words</em></div>
<div class="fsdocs-tip" id="fs143">val alphaLower : float</div>
<div class="fsdocs-tip" id="fs144">val alphaUpper : float</div>
<div class="fsdocs-tip" id="fs145">val kappaPct : float</div>
<div class="fsdocs-tip" id="fs146">val kappa : float</div>
<div class="fsdocs-tip" id="fs147">val upperThresh : float</div>
<div class="fsdocs-tip" id="fs148">val lowerThresh : float</div>
<div class="fsdocs-tip" id="fs149">val xs : Call []</div>
<div class="fsdocs-tip" id="fs150">val pieHat : float</div>
<div class="fsdocs-tip" id="fs151">val isCharged : (string -&gt; string option)</div>
<div class="fsdocs-tip" id="fs152">val freqScore : TextItemScreening</div>
<div class="fsdocs-tip" id="fs153">val occScore : TextItemScreening</div>
<div class="fsdocs-tip" id="fs154">val choose : chooser:(&#39;T -&gt; &#39;U option) -&gt; array:&#39;T [] -&gt; &#39;U []<br /><em>&lt;summary&gt;Applies the given function to each element of the array. Returns
 the array comprised of the results &quot;x&quot; for each element where
 the function returns Some(x)&lt;/summary&gt;<br />&lt;param name=&quot;chooser&quot;&gt;The function to generate options from the elements.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The array of results.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs155">val chargedItems : string []</div>
<div class="fsdocs-tip" id="fs156">val filterCall : call:Call -&gt; Call</div>
<div class="fsdocs-tip" id="fs157">val call : Call</div>
<div class="fsdocs-tip" id="fs158">type Call =
  { CallId: CallId
    WordCount: WordCount []
    Signal: float }
    member Flag : Sentiment</div>
<div class="fsdocs-tip" id="fs159">val textItemsFromCall : Map&lt;string,WordCount&gt;</div>
<div class="fsdocs-tip" id="fs160">val filteredItemCounts : WordCount []</div>
<div class="fsdocs-tip" id="fs161">val chargedWord : string</div>
<div class="fsdocs-tip" id="fs162">val wordCount : WordCount</div>
<div class="fsdocs-tip" id="fs163">val sortBy : projection:(&#39;T -&gt; &#39;Key) -&gt; array:&#39;T [] -&gt; &#39;T [] (requires comparison)<br /><em>&lt;summary&gt;Sorts the elements of an array, using the given projection for the keys and returning a new array. 
 Elements are compared using &lt;see cref=&quot;M:Microsoft.FSharp.Core.Operators.compare&quot; /&gt;.&lt;/summary&gt;<br />&lt;remarks&gt;This is not a stable sort, i.e. the original order of equal elements is not necessarily preserved. 
 For a stable sort, consider using &lt;see cref=&quot;M:Microsoft.FSharp.Collections.SeqModule.Sort&quot; /&gt;.&lt;/remarks&gt;<br />&lt;param name=&quot;projection&quot;&gt;The function to transform array elements into the type that is compared.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The sorted array.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs164">Call.CallId: CallId</div>
<div class="fsdocs-tip" id="fs165">val chargedTrain : Call []</div>
<div class="fsdocs-tip" id="fs166">val sumBy : projection:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U (requires member ( + ) and member get_Zero)<br /><em>&lt;summary&gt;Returns the sum of the results generated by applying the function to each element of the array.&lt;/summary&gt;<br />&lt;param name=&quot;projection&quot;&gt;The function to transform the array elements into the type to be summed.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The resulting sum.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs167">val xs : int</div>
<div class="fsdocs-tip" id="fs168">val getDocumentTermMatrix : calls:Call [] -&gt; Matrix&lt;double&gt;</div>
<div class="fsdocs-tip" id="fs169">val calls : Call []</div>
<div class="fsdocs-tip" id="fs170">Multiple items<br />val double : value:&#39;T -&gt; double (requires member op_Explicit)<br /><em>&lt;summary&gt;Converts the argument to 64-bit float.&lt;/summary&gt;<br />&lt;remarks&gt;This is a direct conversion for all 
 primitive numeric types. For strings, the input is converted using &lt;c&gt;Double.Parse()&lt;/c&gt;  with InvariantCulture settings. Otherwise the operation requires and invokes a &lt;c&gt;ToDouble&lt;/c&gt; method on the input type.&lt;/remarks&gt;</em><br /><br />--------------------<br />[&lt;Struct&gt;]
type double = Double<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Double&quot; /&gt;. Identical to &lt;see cref=&quot;T:Microsoft.FSharp.Core.float&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em><br /><br />--------------------<br />type double&lt;&#39;Measure&gt; = float&lt;&#39;Measure&gt;<br /><em>&lt;summary&gt;The type of double-precision floating point numbers, annotated with a unit of measure. 
 The unit of measure is erased in compiled code and when values of this type
 are analyzed using reflection. The type is representationally equivalent to 
 &lt;see cref=&quot;T:System.Double&quot; /&gt;.&lt;/summary&gt;<br />&lt;category index=&quot;6&quot;&gt;Basic Types with Units of Measure&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs171">val matrix : rowsSequences:#seq&lt;&#39;b&gt; -&gt; Matrix&lt;&#39;T&gt; (requires &#39;b :&gt; seq&lt;&#39;T&gt; and default constructor and value type and &#39;T :&gt; IEquatable&lt;&#39;T&gt; and &#39;T :&gt; IFormattable and &#39;T :&gt; ValueType)<br /><em>&lt;summary&gt;
 Construct a dense matrix from a nested sequence of numbers.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs172">val xs : Matrix&lt;double&gt;</div>
<div class="fsdocs-tip" id="fs173">Matrix.Transpose() : Matrix&lt;double&gt;<br />Matrix.Transpose(result: Matrix&lt;double&gt;) : unit</div>
<div class="fsdocs-tip" id="fs174">val chargedDocumentTermMatrix : Matrix&lt;double&gt;</div>
<div class="fsdocs-tip" id="fs175">property Matrix.RowCount: int with get, set<br /><em>&lt;summary&gt;
            Gets the number of rows.
            &lt;/summary&gt;<br />&lt;value&gt;The number of rows.&lt;/value&gt;</em></div>
<div class="fsdocs-tip" id="fs176">property Matrix.ColumnCount: int with get, set<br /><em>&lt;summary&gt;
            Gets the number of columns.
            &lt;/summary&gt;<br />&lt;value&gt;The number of columns.&lt;/value&gt;</em></div>
<div class="fsdocs-tip" id="fs177">val bigH : Matrix&lt;double&gt;</div>
<div class="fsdocs-tip" id="fs178">val m : Matrix&lt;double&gt;</div>
<div class="fsdocs-tip" id="fs179">Matrix.ToColumnArrays() : double [] []</div>
<div class="fsdocs-tip" id="fs180">val itemCounts : double []</div>
<div class="fsdocs-tip" id="fs181">val sumOfItemCounts : double</div>
<div class="fsdocs-tip" id="fs182">val sum : array:&#39;T [] -&gt; &#39;T (requires member ( + ) and member get_Zero)<br /><em>&lt;summary&gt;Returns the sum of the elements in the array.&lt;/summary&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The resulting sum.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs183">val xs : double</div>
<div class="fsdocs-tip" id="fs184">val bigW : Matrix&lt;double&gt;</div>
<div class="fsdocs-tip" id="fs185">val n : double</div>
<div class="fsdocs-tip" id="fs186">val mapi : mapping:(int -&gt; &#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []<br /><em>&lt;summary&gt;Builds a new array whose elements are the results of applying the given function
 to each of the elements of the array. The integer index passed to the
 function indicates the index of element being transformed.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;The function to transform elements and their indices.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The array of transformed elements.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs187">val i : int</div>
<div class="fsdocs-tip" id="fs188">val xs : double []</div>
<div class="fsdocs-tip" id="fs189">val p : double</div>
<div class="fsdocs-tip" id="fs190">Matrix.Multiply(other: Matrix&lt;double&gt;) : Matrix&lt;double&gt;<br />Matrix.Multiply(rightSide: Vector&lt;double&gt;) : Vector&lt;double&gt;<br />Matrix.Multiply(scalar: double) : Matrix&lt;double&gt;<br />Matrix.Multiply(other: Matrix&lt;double&gt;, result: Matrix&lt;double&gt;) : unit<br />Matrix.Multiply(rightSide: Vector&lt;double&gt;, result: Vector&lt;double&gt;) : unit<br />Matrix.Multiply(scalar: double, result: Matrix&lt;double&gt;) : unit</div>
<div class="fsdocs-tip" id="fs191">val bigO : Matrix&lt;float&gt;</div>
<div class="fsdocs-tip" id="fs192">val h : Matrix&lt;double&gt;</div>
<div class="fsdocs-tip" id="fs193">val w : Matrix&lt;double&gt;</div>
<div class="fsdocs-tip" id="fs194">val w&#39; : Matrix&lt;double&gt;</div>
<div class="fsdocs-tip" id="fs195">val ww&#39; : Matrix&lt;double&gt;</div>
<div class="fsdocs-tip" id="fs196">Matrix.Inverse() : Matrix&lt;double&gt;</div>
<div class="fsdocs-tip" id="fs197">type Matrix&lt;&#39;T (requires default constructor and value type and &#39;T :&gt; IEquatable&lt;&#39;T&gt; and &#39;T :&gt; IFormattable and &#39;T :&gt; ValueType)&gt; =
  interface IFormattable
  interface IEquatable&lt;Matrix&lt;&#39;T&gt;&gt;
  interface ICloneable
  new : storage: MatrixStorage&lt;&#39;T&gt; -&gt; unit
  member Add : scalar: &#39;T -&gt; Matrix&lt;&#39;T&gt; + 3 overloads
  member Append : right: Matrix&lt;&#39;T&gt; -&gt; Matrix&lt;&#39;T&gt; + 1 overload
  member AsArray : unit -&gt; &#39;T [,]
  member AsColumnArrays : unit -&gt; &#39;T [] []
  member AsColumnMajorArray : unit -&gt; &#39;T []
  member AsRowArrays : unit -&gt; &#39;T [] []
  ...<br /><em>&lt;summary&gt;
            Defines the base class for &lt;c&gt;Matrix&lt;/c&gt; classes.
            &lt;/summary&gt;<br />&lt;summary&gt;
            Defines the base class for &lt;c&gt;Matrix&lt;/c&gt; classes.
            &lt;/summary&gt;<br />&lt;typeparam name=&quot;T&quot;&gt;Supported data types are &lt;c&gt;double&lt;/c&gt;, &lt;c&gt;single&lt;/c&gt;, &lt;see cref=&quot;N:MathNet.Numerics.LinearAlgebra.Complex&quot; /&gt;, and &lt;see cref=&quot;N:MathNet.Numerics.LinearAlgebra.Complex32&quot; /&gt;.&lt;/typeparam&gt;<br />&lt;summary&gt;
            Defines the base class for &lt;c&gt;Matrix&lt;/c&gt; classes.
            &lt;/summary&gt;<br />&lt;summary&gt;
            Defines the base class for &lt;c&gt;Matrix&lt;/c&gt; classes.
            &lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs198">val toColArrays : m:#Matrix&lt;&#39;b&gt; -&gt; &#39;b [] [] (requires default constructor and value type and &#39;b :&gt; IEquatable&lt;&#39;b&gt; and &#39;b :&gt; IFormattable and &#39;b :&gt; ValueType)<br /><em>&lt;summary&gt;
 Transform a matrix into an array of column arrays.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs199">val col : double []</div>
<div class="fsdocs-tip" id="fs200">val onlyPositiveVals : float []</div>
<div class="fsdocs-tip" id="fs201">val norm : float</div>
<div class="fsdocs-tip" id="fs202">val m : Matrix&lt;float&gt;</div>
<div class="fsdocs-tip" id="fs203">Matrix.Transpose() : Matrix&lt;float&gt;<br />Matrix.Transpose(result: Matrix&lt;float&gt;) : unit</div>
<div class="fsdocs-tip" id="fs204">val bigOArr : float [] []</div>
<div class="fsdocs-tip" id="fs205">Matrix.ToRowArrays() : float [] []</div>
<div class="fsdocs-tip" id="fs206">val objF : call:Call -&gt; p:float -&gt; lambda:float -&gt; float</div>
<div class="fsdocs-tip" id="fs207">val p : float</div>
<div class="fsdocs-tip" id="fs208">val lambda : float</div>
<div class="fsdocs-tip" id="fs209">val filteredCall : Call</div>
<div class="fsdocs-tip" id="fs210">val sHat : float</div>
<div class="fsdocs-tip" id="fs211">val pos : float</div>
<div class="fsdocs-tip" id="fs212">val neg : float</div>
<div class="fsdocs-tip" id="fs213">val d : float</div>
<div class="fsdocs-tip" id="fs214">val log : value:&#39;T -&gt; &#39;T (requires member Log)<br /><em>&lt;summary&gt;Natural logarithm of the given number&lt;/summary&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The natural logarithm of the input.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs215">val expr : float []</div>
<div class="fsdocs-tip" id="fs216">val computeScore : call:Call -&gt; (float * float) * float</div>
<div class="fsdocs-tip" id="fs217">val scoreP : float</div>
<div class="fsdocs-tip" id="fs218">val maxBy : projection:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;T (requires comparison)<br /><em>&lt;summary&gt;Returns the greatest of all elements of the array, compared via Operators.max on the function result.&lt;/summary&gt;<br />&lt;remarks&gt;Throws ArgumentException for empty arrays.&lt;/remarks&gt;<br />&lt;param name=&quot;projection&quot;&gt;The function to transform the elements into a type supporting comparison.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;<br />&lt;exception cref=&quot;T:System.ArgumentException&quot;&gt;Thrown when the input array is empty.&lt;/exception&gt;<br />&lt;returns&gt;The maximum element.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs219">val testHighSignals : ((float * float) * float) []</div>
<div class="fsdocs-tip" id="fs220">val take : count:int -&gt; array:&#39;T [] -&gt; &#39;T []<br /><em>&lt;summary&gt;Returns the first N elements of the array.&lt;/summary&gt;<br />&lt;remarks&gt;Throws &lt;c&gt;InvalidOperationException&lt;/c&gt;
 if the count exceeds the number of elements in the array. &lt;c&gt;Array.truncate&lt;/c&gt;
 returns as many items as the array contains instead of throwing an exception.&lt;/remarks&gt;<br />&lt;param name=&quot;count&quot;&gt;The number of items to take.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The result array.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;<br />&lt;exception cref=&quot;T:System.ArgumentException&quot;&gt;Thrown when the input array is empty.&lt;/exception&gt;<br />&lt;exception cref=&quot;T:System.InvalidOperationException&quot;&gt;Thrown when count exceeds the number of elements
 in the list.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs221">val res : (float * float) * float</div>
<div class="fsdocs-tip" id="fs222">val testLowSignals : float</div>
<div class="fsdocs-tip" id="fs223">val averageBy : projection:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U (requires member ( + ) and member DivideByInt and member get_Zero)<br /><em>&lt;summary&gt;Returns the average of the elements generated by applying the function to each element of the array.&lt;/summary&gt;<br />&lt;param name=&quot;projection&quot;&gt;The function to transform the array elements before averaging.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;exception cref=&quot;T:System.ArgumentException&quot;&gt;Thrown when &lt;c&gt;array&lt;/c&gt; is empty.&lt;/exception&gt;<br />&lt;returns&gt;The computed average.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs224">val res : float * float</div>
<div class="fsdocs-tip" id="fs225">namespace DiffSharp</div>
<div class="fsdocs-tip" id="fs226">namespace DiffSharp.Optim</div>
<div class="fsdocs-tip" id="fs227">val computeScore&#39; : call:Call -&gt; x:Tensor -&gt; Tensor</div>
<div class="fsdocs-tip" id="fs228">val x : Tensor</div>
<div class="fsdocs-tip" id="fs229">type Tensor =
  private | TensorC of primalRaw: RawTensor
          | TensorF of primal: Tensor * derivative: Tensor * nestingTag: uint32
          | TensorR of primal: Tensor * derivative: Tensor ref * parentOp: TensorOp * fanout: uint32 ref * nestingTag: uint32
    interface IConvertible
    interface IComparable
    override Equals : other:obj -&gt; bool
    override GetHashCode : unit -&gt; int
    member private GetSlice : bounds:int [,] -&gt; Tensor
    override ToString : unit -&gt; string
    member abs : unit -&gt; Tensor
    member acos : unit -&gt; Tensor
    member add : b:Tensor -&gt; Tensor + 1 overload
    member addSlice : location:seq&lt;int&gt; * b:Tensor -&gt; Tensor
    ...<br /><em>&lt;summary&gt;
   Represents a multi-dimensional data type containing elements of a single data type.
 &lt;/summary&gt;<br />&lt;example&gt;
   A tensor can be constructed from a list or sequence using &lt;see cref=&quot;M:DiffSharp.dsharp.tensor(System.Object)&quot; /&gt;&lt;code&gt;
    let t = dsharp.tensor([[1.; -1.]; [1.; -1.]])
  &lt;/code&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs230">val scoreP : Tensor</div>
<div class="fsdocs-tip" id="fs231">val pos : Tensor</div>
<div class="fsdocs-tip" id="fs232">val neg : Tensor</div>
<div class="fsdocs-tip" id="fs233">val sumExpr : Tensor</div>
<div class="fsdocs-tip" id="fs234">val xs : Tensor</div>
<div class="fsdocs-tip" id="fs235">val lr : float</div>
<div class="fsdocs-tip" id="fs236">val momentum : float</div>
<div class="fsdocs-tip" id="fs237">val iters : int</div>
<div class="fsdocs-tip" id="fs238">val threshold : float</div>
<div class="fsdocs-tip" id="fs239">val scoreFun : (Tensor -&gt; Tensor)</div>
<div class="fsdocs-tip" id="fs240">val scorePGuess : Tensor</div>
<div class="fsdocs-tip" id="fs241">type dsharp =
  static member abs : input:Tensor -&gt; Tensor
  static member acos : input:Tensor -&gt; Tensor
  static member add : a:Tensor * b:Tensor -&gt; Tensor
  static member arange : endVal:float * ?startVal:float * ?step:float * ?dtype:Dtype * ?device:Device * ?backend:Backend -&gt; Tensor + 1 overload
  static member arangeLike : input:Tensor * endVal:float * ?startVal:float * ?step:float * ?dtype:Dtype * ?device:Device * ?backend:Backend -&gt; Tensor + 1 overload
  static member argmax : input:Tensor -&gt; int []
  static member argmin : input:Tensor -&gt; int []
  static member asin : input:Tensor -&gt; Tensor
  static member atan : input:Tensor -&gt; Tensor
  static member bceLoss : input:Tensor * target:Tensor * ?weight:Tensor * ?reduction:string -&gt; Tensor
  ...<br /><em>&lt;summary&gt;
 Tensor operations
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs242">static member dsharp.tensor : value:obj * ?dtype:Dtype * ?device:Device * ?backend:Backend -&gt; Tensor</div>
<div class="fsdocs-tip" id="fs243">val scoreFx : Tensor</div>
<div class="fsdocs-tip" id="fs244">val params&#39; : Tensor</div>
<div class="fsdocs-tip" id="fs245">type optim =
  static member adam : f:(Tensor -&gt; Tensor) * x0:Tensor * ?lr:Tensor * ?beta1:Tensor * ?beta2:Tensor * ?eps:Tensor * ?iters:int * ?threshold:double * ?print:bool * ?printEvery:int * ?printPrefix:string * ?printPostfix:string -&gt; Tensor * Tensor + 1 overload
  static member private optimizeFun : update:(Tensor -&gt; Tensor * Tensor) * x0:Tensor * ?iters:int * ?threshold:double * ?print:bool * ?printEvery:int * ?printPrefix:string * ?printPostfix:string -&gt; Tensor * Tensor
  static member private optimizeModel : model:Model * optimizer:Optimizer * dataloader:DataLoader * loss:(Tensor -&gt; Tensor -&gt; Tensor) * ?iters:int * ?epochs:int * ?threshold:double * ?print:bool * ?printEvery:int * ?printPrefix:string * ?printPostfix:string -&gt; unit
  static member sgd : f:(Tensor -&gt; Tensor) * x0:Tensor * ?lr:Tensor * ?momentum:Tensor * ?nesterov:bool * ?iters:int * ?threshold:double * ?print:bool * ?printEvery:int * ?printPrefix:string * ?printPostfix:string -&gt; Tensor * Tensor + 1 overload<br /><em>&lt;summary&gt;TBD&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs246">static member optim.sgd : f:(Tensor -&gt; Tensor) * x0:Tensor * ?lr:Tensor * ?momentum:Tensor * ?nesterov:bool * ?iters:int * ?threshold:double * ?print:bool * ?printEvery:int * ?printPrefix:string * ?printPostfix:string -&gt; Tensor * Tensor<br />static member optim.sgd : model:Model.Model * dataloader:Data.DataLoader * loss:(Tensor -&gt; Tensor -&gt; Tensor) * ?lr:Tensor * ?momentum:Tensor * ?nesterov:bool * ?weightDecay:Tensor * ?reversible:bool * ?iters:int * ?epochs:int * ?threshold:double * ?print:bool * ?printEvery:int * ?printPrefix:string * ?printPostfix:string -&gt; unit</div>

        </div>

        <!-- BEGIN SEARCH BOX: this adds support for the search box -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
        <script type="text/javascript">var fsdocs_search_baseurl = '/ConferenceCalls/';</script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
        <script type="text/javascript" src="/ConferenceCalls/content/fsdocs-search.js"></script>
        <!-- END SEARCH BOX: this adds support for the search box -->
    </div>
</body>

</html>

